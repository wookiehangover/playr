/**
 * almond 0.2.3 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */
//Going sloppy to avoid 'use strict' string cost, but strict practices should
//be followed.
/*jslint sloppy: true */
/*global setTimeout: false */

var requirejs, require, define;
(function (undef) {
    var main, req, makeMap, handlers,
        defined = {},
        waiting = {},
        config = {},
        defining = {},
        hasOwn = Object.prototype.hasOwnProperty,
        aps = [].slice;

    function hasProp(obj, prop) {
        return hasOwn.call(obj, prop);
    }

    /**
     * Given a relative module name, like ./something, normalize it to
     * a real name that can be mapped to a path.
     * @param {String} name the relative name
     * @param {String} baseName a real name that the name arg is relative
     * to.
     * @returns {String} normalized name
     */
    function normalize(name, baseName) {
        var nameParts, nameSegment, mapValue, foundMap,
            foundI, foundStarMap, starI, i, j, part,
            baseParts = baseName && baseName.split("/"),
            map = config.map,
            starMap = (map && map['*']) || {};

        //Adjust any relative paths.
        if (name && name.charAt(0) === ".") {
            //If have a base name, try to normalize against it,
            //otherwise, assume it is a top-level require that will
            //be relative to baseUrl in the end.
            if (baseName) {
                //Convert baseName to array, and lop off the last part,
                //so that . matches that "directory" and not name of the baseName's
                //module. For instance, baseName of "one/two/three", maps to
                //"one/two/three.js", but we want the directory, "one/two" for
                //this normalization.
                baseParts = baseParts.slice(0, baseParts.length - 1);

                name = baseParts.concat(name.split("/"));

                //start trimDots
                for (i = 0; i < name.length; i += 1) {
                    part = name[i];
                    if (part === ".") {
                        name.splice(i, 1);
                        i -= 1;
                    } else if (part === "..") {
                        if (i === 1 && (name[2] === '..' || name[0] === '..')) {
                            //End of the line. Keep at least one non-dot
                            //path segment at the front so it can be mapped
                            //correctly to disk. Otherwise, there is likely
                            //no path mapping for a path starting with '..'.
                            //This can still fail, but catches the most reasonable
                            //uses of ..
                            break;
                        } else if (i > 0) {
                            name.splice(i - 1, 2);
                            i -= 2;
                        }
                    }
                }
                //end trimDots

                name = name.join("/");
            } else if (name.indexOf('./') === 0) {
                // No baseName, so this is ID is resolved relative
                // to baseUrl, pull off the leading dot.
                name = name.substring(2);
            }
        }

        //Apply map config if available.
        if ((baseParts || starMap) && map) {
            nameParts = name.split('/');

            for (i = nameParts.length; i > 0; i -= 1) {
                nameSegment = nameParts.slice(0, i).join("/");

                if (baseParts) {
                    //Find the longest baseName segment match in the config.
                    //So, do joins on the biggest to smallest lengths of baseParts.
                    for (j = baseParts.length; j > 0; j -= 1) {
                        mapValue = map[baseParts.slice(0, j).join('/')];

                        //baseName segment has  config, find if it has one for
                        //this name.
                        if (mapValue) {
                            mapValue = mapValue[nameSegment];
                            if (mapValue) {
                                //Match, update name to the new value.
                                foundMap = mapValue;
                                foundI = i;
                                break;
                            }
                        }
                    }
                }

                if (foundMap) {
                    break;
                }

                //Check for a star map match, but just hold on to it,
                //if there is a shorter segment match later in a matching
                //config, then favor over this star map.
                if (!foundStarMap && starMap && starMap[nameSegment]) {
                    foundStarMap = starMap[nameSegment];
                    starI = i;
                }
            }

            if (!foundMap && foundStarMap) {
                foundMap = foundStarMap;
                foundI = starI;
            }

            if (foundMap) {
                nameParts.splice(0, foundI, foundMap);
                name = nameParts.join('/');
            }
        }

        return name;
    }

    function makeRequire(relName, forceSync) {
        return function () {
            //A version of a require function that passes a moduleName
            //value for items that may need to
            //look up paths relative to the moduleName
            return req.apply(undef, aps.call(arguments, 0).concat([relName, forceSync]));
        };
    }

    function makeNormalize(relName) {
        return function (name) {
            return normalize(name, relName);
        };
    }

    function makeLoad(depName) {
        return function (value) {
            defined[depName] = value;
        };
    }

    function callDep(name) {
        if (hasProp(waiting, name)) {
            var args = waiting[name];
            delete waiting[name];
            defining[name] = true;
            main.apply(undef, args);
        }

        if (!hasProp(defined, name) && !hasProp(defining, name)) {
            throw new Error('No ' + name);
        }
        return defined[name];
    }

    //Turns a plugin!resource to [plugin, resource]
    //with the plugin being undefined if the name
    //did not have a plugin prefix.
    function splitPrefix(name) {
        var prefix,
            index = name ? name.indexOf('!') : -1;
        if (index > -1) {
            prefix = name.substring(0, index);
            name = name.substring(index + 1, name.length);
        }
        return [prefix, name];
    }

    /**
     * Makes a name map, normalizing the name, and using a plugin
     * for normalization if necessary. Grabs a ref to plugin
     * too, as an optimization.
     */
    makeMap = function (name, relName) {
        var plugin,
            parts = splitPrefix(name),
            prefix = parts[0];

        name = parts[1];

        if (prefix) {
            prefix = normalize(prefix, relName);
            plugin = callDep(prefix);
        }

        //Normalize according
        if (prefix) {
            if (plugin && plugin.normalize) {
                name = plugin.normalize(name, makeNormalize(relName));
            } else {
                name = normalize(name, relName);
            }
        } else {
            name = normalize(name, relName);
            parts = splitPrefix(name);
            prefix = parts[0];
            name = parts[1];
            if (prefix) {
                plugin = callDep(prefix);
            }
        }

        //Using ridiculous property names for space reasons
        return {
            f: prefix ? prefix + '!' + name : name, //fullName
            n: name,
            pr: prefix,
            p: plugin
        };
    };

    function makeConfig(name) {
        return function () {
            return (config && config.config && config.config[name]) || {};
        };
    }

    handlers = {
        require: function (name) {
            return makeRequire(name);
        },
        exports: function (name) {
            var e = defined[name];
            if (typeof e !== 'undefined') {
                return e;
            } else {
                return (defined[name] = {});
            }
        },
        module: function (name) {
            return {
                id: name,
                uri: '',
                exports: defined[name],
                config: makeConfig(name)
            };
        }
    };

    main = function (name, deps, callback, relName) {
        var cjsModule, depName, ret, map, i,
            args = [],
            usingExports;

        //Use name if no relName
        relName = relName || name;

        //Call the callback to define the module, if necessary.
        if (typeof callback === 'function') {

            //Pull out the defined dependencies and pass the ordered
            //values to the callback.
            //Default to [require, exports, module] if no deps
            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;
            for (i = 0; i < deps.length; i += 1) {
                map = makeMap(deps[i], relName);
                depName = map.f;

                //Fast path CommonJS standard dependencies.
                if (depName === "require") {
                    args[i] = handlers.require(name);
                } else if (depName === "exports") {
                    //CommonJS module spec 1.1
                    args[i] = handlers.exports(name);
                    usingExports = true;
                } else if (depName === "module") {
                    //CommonJS module spec 1.1
                    cjsModule = args[i] = handlers.module(name);
                } else if (hasProp(defined, depName) ||
                           hasProp(waiting, depName) ||
                           hasProp(defining, depName)) {
                    args[i] = callDep(depName);
                } else if (map.p) {
                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});
                    args[i] = defined[depName];
                } else {
                    throw new Error(name + ' missing ' + depName);
                }
            }

            ret = callback.apply(defined[name], args);

            if (name) {
                //If setting exports via "module" is in play,
                //favor that over return value and exports. After that,
                //favor a non-undefined return value over exports use.
                if (cjsModule && cjsModule.exports !== undef &&
                        cjsModule.exports !== defined[name]) {
                    defined[name] = cjsModule.exports;
                } else if (ret !== undef || !usingExports) {
                    //Use the return value from the function.
                    defined[name] = ret;
                }
            }
        } else if (name) {
            //May just be an object definition for the module. Only
            //worry about defining if have a module name.
            defined[name] = callback;
        }
    };

    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {
        if (typeof deps === "string") {
            if (handlers[deps]) {
                //callback in this case is really relName
                return handlers[deps](callback);
            }
            //Just return the module wanted. In this scenario, the
            //deps arg is the module name, and second arg (if passed)
            //is just the relName.
            //Normalize module name, if it contains . or ..
            return callDep(makeMap(deps, callback).f);
        } else if (!deps.splice) {
            //deps is a config object, not an array.
            config = deps;
            if (callback.splice) {
                //callback is an array, which means it is a dependency list.
                //Adjust args if there are dependencies
                deps = callback;
                callback = relName;
                relName = null;
            } else {
                deps = undef;
            }
        }

        //Support require(['a'])
        callback = callback || function () {};

        //If relName is a function, it is an errback handler,
        //so remove it.
        if (typeof relName === 'function') {
            relName = forceSync;
            forceSync = alt;
        }

        //Simulate async callback;
        if (forceSync) {
            main(undef, deps, callback, relName);
        } else {
            setTimeout(function () {
                main(undef, deps, callback, relName);
            }, 15);
        }

        return req;
    };

    /**
     * Just drops the config on the floor, but returns req in case
     * the config return value is used.
     */
    req.config = function (cfg) {
        config = cfg;
        return req;
    };

    define = function (name, deps, callback) {

        //This module may not have dependencies
        if (!deps.splice) {
            //deps is not an array, so probably means
            //an object literal or factory function for
            //the value. Adjust args.
            callback = deps;
            deps = [];
        }

        if (!hasProp(defined, name) && !hasProp(waiting, name)) {
            waiting[name] = [name, deps, callback];
        }
    };

    define.amd = {
        jQuery: true
    };
}());

/*!
 Lo-Dash 1.0.0-rc.3 lodash.com/license
 Underscore.js 1.4.3 underscorejs.org/LICENSE
*/

//     (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/**
 * Adapted from the official plugin text.js
 *
 * Uses UnderscoreJS micro-templates : http://documentcloud.github.com/underscore/#template
 * @author Julien CabanÃ¨s <julien@zeeagency.com>
 * @version 0.2
 * 
 * @license RequireJS text 0.24.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/*
 * popcorn.js version cdef06e
 * http://popcornjs.org
 *
 * Copyright 2011, Mozilla Foundation
 * Licensed under the MIT license
 */

/*!
 * Popcorn.sequence
 *
 * Copyright 2011, Rick Waldron
 * Licensed under MIT license.
 *
 */

/*********************************************************************************
   * parseUri 1.2.2
   * http://blog.stevenlevithan.com/archives/parseuri
   * (c) Steven Levithan <stevenlevithan.com>
   * MIT License
   */

(function(t,e){function n(t){return t&&"object"==typeof t&&t.__wrapped__?t:this instanceof n?(this.__wrapped__=t,void 0):new n(t)}function r(t,e,n){e||(e=0);var r=t.length,i=r-e>=(n||re);if(i)for(var a={},n=e-1;r>++n;){var o=t[n]+"";(Te.call(a,o)?a[o]:a[o]=[]).push(t[n])}return function(n){if(i){var r=n+"";return Te.call(a,r)&&q(a[r],n)>-1}return q(t,n,e)>-1}}function i(t){return t.charCodeAt(0)}function a(t,e){var n=t.b,r=e.b,t=t.a,e=e.a;if(t!==e){if(t>e||t===void 0)return 1;if(e>t||e===void 0)return-1}return r>n?-1:1}function o(t,e,n){function r(){var s=arguments,u=a?this:e;return i||(t=e[o]),n.length&&(s=s.length?n.concat(f(s)):n),this instanceof r?(p.prototype=t.prototype,u=new p,p.prototype=null,s=t.apply(u,s),T(s)?s:u):t.apply(u,s)}var i=w(t),a=!n,o=e;return a&&(n=e),i||(e=t),r}function s(t,e,n){return t?"function"!=typeof t?function(e){return e[t]}:e!==void 0?n?function(n,r,i,a){return t.call(e,n,r,i,a)}:function(n,r,i){return t.call(e,n,r,i)}:t:Y}function u(){for(var t,e={b:"",c:"",e:X,f:Ye,g:"",h:Ge,i:Xe,j:ye,k:"",l:!0},n=0;t=arguments[n];n++)for(var r in t)e[r]=t[r];if(t=e.a,e.d=/^[^,]+/.exec(t)[0],n=Function,r="var i,l="+e.d+",t="+e.d+";if(!"+e.d+")return t;"+e.k+";",e.b?(r+="var m=l.length;i=-1;if(typeof m=='number'){",e.i&&(r+="if(k(l)){l=l.split('')}"),r+="while(++i<m){"+e.b+"}}else {"):e.h&&(r+="var m=l.length;i=-1;if(m&&j(l)){while(++i<m){i+='';"+e.g+"}}else {"),e.e||(r+="var u=typeof l=='function'&&s.call(l,'prototype');"),e.f&&e.l?(r+="var q=-1,r=p[typeof l]?n(l):[],m=r.length;while(++q<m){i=r[q];",e.e||(r+="if(!(u&&i=='prototype')){"),r+=e.g+"",e.e||(r+="}")):(r+="for(i in l){",(!e.e||e.l)&&(r+="if(",e.e||(r+="!(u&&i=='prototype')"),!e.e&&e.l&&(r+="&&"),e.l&&(r+="h.call(l,i)"),r+="){"),r+=e.g+";",(!e.e||e.l)&&(r+="}")),r+="}",e.e){r+="var f=l.constructor;";for(var i=0;7>i;i++)r+="i='"+e.j[i]+"';if(","constructor"==e.j[i]&&(r+="!(f&&f.prototype===l)&&"),r+="h.call(l,i)){"+e.g+"}"}return(e.b||e.h)&&(r+="}"),r+=e.c+";return t",n("e,h,j,k,p,n,s","return function("+t+"){"+r+"}")(s,Te,v,k,nn,Ie,ke)}function c(t){return"\\"+rn[t]}function l(t){return pn[t]}function d(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function p(){}function f(t,e,n){e||(e=0),n===void 0&&(n=t?t.length:0);for(var r=-1,n=n-e||0,i=Array(0>n?0:n);n>++r;)i[r]=t[e+r];return i}function h(t){return fn[t]}function v(t){return xe.call(t)==Ce}function g(t){var e=!1;if(!t||"object"!=typeof t||v(t))return e;var n=t.constructor;return!w(n)&&(!Qe||!d(t))||n instanceof n?Q?(ln(t,function(t,n,r){return e=!Te.call(r,n),!1}),!1===e):(ln(t,function(t,n){e=n}),!1===e||Te.call(t,e)):e}function m(t){var e=[];return dn(t,function(t,n){e.push(n)}),e}function y(t,e,n,r,i){if(null==t)return t;if(n&&(e=!1),n=T(t)){var a=xe.call(t);if(!tn[a]||Qe&&d(t))return t;var o=vn(t)}if(!n||!e)return n?o?f(t):cn({},t):t;switch(n=en[a],a){case Le:case De:return new n(+t);case He:case Ue:return new n(t);case qe:return n(t.source,le.exec(t))}for(r||(r=[]),i||(i=[]),a=r.length;a--;)if(r[a]==t)return i[a];var s=o?n(t.length):{};return r.push(t),i.push(s),(o?j:dn)(t,function(t,n){s[n]=y(t,e,null,r,i)}),o&&(Te.call(t,"index")&&(s.index=t.index),Te.call(t,"input")&&(s.input=t.input)),s}function E(t){var e=[];return ln(t,function(t,n){w(t)&&e.push(n)}),e.sort()}function b(t){var e={};return dn(t,function(t,n){e[t]=n}),e}function _(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;var i=xe.call(t),a=xe.call(e);if(i==Ce&&(i=$e),a==Ce&&(a=$e),i!=a)return!1;switch(i){case Le:case De:return+t==+e;case He:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case qe:case Ue:return t==e+""}if(a=i==Ve,!a){if(t.__wrapped__||e.__wrapped__)return _(t.__wrapped__||t,e.__wrapped__||e);if(i!=$e||Qe&&(d(t)||d(e)))return!1;var i=!Je&&v(t)?Object:t.constructor,o=!Je&&v(e)?Object:e.constructor;if(!(i==o||w(i)&&i instanceof i&&w(o)&&o instanceof o))return!1}for(n||(n=[]),r||(r=[]),i=n.length;i--;)if(n[i]==t)return r[i]==e;var s=!0,u=0;if(n.push(t),r.push(e),a){if(u=t.length,s=u==e.length)for(;u--&&(s=_(t[u],e[u],n,r)););return s}return ln(t,function(t,i,a){return Te.call(a,i)?(u++,s=Te.call(e,i)&&_(t,e[i],n,r)):void 0}),s&&ln(e,function(t,e,n){return Te.call(n,e)?s=--u>-1:void 0}),s}function w(t){return"function"==typeof t}function T(t){return t?nn[typeof t]:!1}function S(t){return"number"==typeof t||xe.call(t)==He}function k(t){return"string"==typeof t||xe.call(t)==Ue}function x(t,e,n){var r=arguments,i=0,a=2,o=r[3],s=r[4];for(n!==ne&&(o=[],s=[],"number"!=typeof n&&(a=r.length));a>++i;)dn(r[i],function(e,n){var r,i,a;if(e&&((i=vn(e))||gn(e))){for(var u=o.length;u--&&!(r=o[u]==e););r?t[n]=s[u]:(o.push(e),s.push((a=t[n],a=i?vn(a)?a:[]:gn(a)?a:{})),t[n]=x(a,e,ne,o,s))}else null!=e&&(t[n]=e)});return t}function P(t){var e=[];return dn(t,function(t){e.push(t)}),e}function O(t,e,n){var r=-1,i=t?t.length:0,a=!1,n=(0>n?je(0,i+n):n)||0;return"number"==typeof i?a=(k(t)?t.indexOf(e,n):q(t,e,n))>-1:un(t,function(t){return++r>=n?!(a=t===e):void 0}),a}function A(t,e,n){var r=!0,e=s(e,n);if(vn(t))for(var n=-1,i=t.length;i>++n&&(r=!!e(t[n],n,t)););else un(t,function(t,n,i){return r=!!e(t,n,i)});return r}function N(t,e,n){var r=[],e=s(e,n);if(vn(t))for(var n=-1,i=t.length;i>++n;){var a=t[n];e(a,n,t)&&r.push(a)}else un(t,function(t,n,i){e(t,n,i)&&r.push(t)});return r}function I(t,e,n){var r,e=s(e,n);return j(t,function(t,n,i){return e(t,n,i)?(r=t,!1):void 0}),r}function j(t,e,n){if(e&&n===void 0&&vn(t))for(var n=-1,r=t.length;r>++n&&!1!==e(t[n],n,t););else un(t,e,n);return t}function M(t,e,n){var r=-1,i=t?t.length:0,a=Array("number"==typeof i?i:0),e=s(e,n);if(vn(t))for(;i>++r;)a[r]=e(t[r],r,t);else un(t,function(t,n,i){a[++r]=e(t,n,i)});return a}function R(t,e,n){var r=-1/0,a=-1,o=t?t.length:0,u=r;if(e||!vn(t))e=!e&&k(t)?i:s(e,n),un(t,function(t,n,i){n=e(t,n,i),n>r&&(r=n,u=t)});else for(;o>++a;)t[a]>u&&(u=t[a]);return u}function C(t,e){return M(t,e+"")}function V(t,e,n,r){var i=3>arguments.length,e=s(e,r,ne);if(vn(t)){var a=-1,o=t.length;for(i&&(n=t[++a]);o>++a;)n=e(n,t[a],a,t)}else un(t,function(t,r,a){n=i?(i=!1,t):e(n,t,r,a)});return n}function L(t,e,n,r){var i=t,a=t?t.length:0,o=3>arguments.length;if("number"!=typeof a)var u=mn(t),a=u.length;else Xe&&k(t)&&(i=t.split(""));return e=s(e,r,ne),j(t,function(t,r,s){r=u?u[--a]:--a,n=o?(o=!1,i[r]):e(n,i[r],r,s)}),n}function D(t,e,n){var r,e=s(e,n);if(vn(t))for(var n=-1,i=t.length;i>++n&&!(r=e(t[n],n,t)););else un(t,function(t,n,i){return!(r=e(t,n,i))});return!!r}function H(t,e,n){if(t){var r=t.length;return null==e||n?t[0]:f(t,0,Me(je(0,e),r))}}function $(t,e){for(var n=-1,r=t?t.length:0,i=[];r>++n;){var a=t[n];vn(a)?Se.apply(i,e?a:$(a)):i.push(a)}return i}function q(t,e,n){var r=-1,i=t?t.length:0;if("number"==typeof n)r=(0>n?je(0,i+n):n||0)-1;else if(n)return r=F(t,e),t[r]===e?r:-1;for(;i>++r;)if(t[r]===e)return r;return-1}function U(t,e,n){return f(t,null==e||n?1:je(0,e))}function F(t,e,n,r){for(var i=0,a=t?t.length:i,n=n?s(n,r):Y,e=n(e);a>i;)r=i+a>>>1,e>n(t[r])?i=r+1:a=r;return i}function W(t,e,n,r){var i=-1,a=t?t.length:0,o=[],u=o;"function"==typeof e&&(r=n,n=e,e=!1);var c=!e&&a>=75;if(c)var l={};for(n&&(u=[],n=s(n,r));a>++i;){var r=t[i],d=n?n(r,i,t):r;if(c)var p=d+"",p=Te.call(l,p)?!(u=l[p]):u=l[p]=[];(e?!i||u[u.length-1]!==d:p||0>q(u,d))&&((n||c)&&u.push(d),o.push(r))}return o}function B(t,e){return Be||Pe&&arguments.length>2?Pe.call.apply(Pe,arguments):o(t,e,f(arguments,2))}function Y(t){return t}function z(t){j(E(t),function(e){var r=n[e]=t[e];n.prototype[e]=function(){var t=[this.__wrapped__];return Se.apply(t,arguments),t=r.apply(n,t),new n(t)}})}function G(){return this.__wrapped__}var J="object"==typeof exports&&exports,K="object"==typeof global&&global;K.global===K&&(t=K);var X,Q,Z=[],te=new function(){},ee=0,ne=te,re=30,ie=t._,ae=/[-?+=!~*%&^<>|{(\/]|\[\D|\b(?:delete|in|instanceof|new|typeof|void)\b/,oe=/&(?:amp|lt|gt|quot|#x27);/g,se=/\b__p\+='';/g,ue=/\b(__p\+=)''\+/g,ce=/(__e\(.*?\)|\b__t\))\+'';/g,le=/\w*$/,de=/(?:__e|__t=)\(\s*(?![\d\s"']|this\.)/g,pe=RegExp("^"+(te.valueOf+"").replace(/[.*+?^=!:${}()|[\]\/\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),fe=/\$\{((?:(?=\\?)\\?[\s\S])*?)}/g,he=/<%=([\s\S]+?)%>/g,ve=/($^)/,ge=/[&<>"']/g,me=/['\n\r\t\u2028\u2029\\]/g,ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ee=Math.ceil,be=Z.concat,_e=Math.floor,we=pe.test(we=Object.getPrototypeOf)&&we,Te=te.hasOwnProperty,Se=Z.push,ke=te.propertyIsEnumerable,xe=te.toString,Pe=pe.test(Pe=f.bind)&&Pe,Oe=pe.test(Oe=Array.isArray)&&Oe,Ae=t.isFinite,Ne=t.isNaN,Ie=pe.test(Ie=Object.keys)&&Ie,je=Math.max,Me=Math.min,Re=Math.random,Ce="[object Arguments]",Ve="[object Array]",Le="[object Boolean]",De="[object Date]",He="[object Number]",$e="[object Object]",qe="[object RegExp]",Ue="[object String]",Fe=!!t.attachEvent,We=Pe&&!/\n|true/.test(Pe+Fe),Be=Pe&&!We,Ye=Ie&&(Fe||We),ze=(ze={0:1,length:1},Z.splice.call(ze,0,1),ze[0]),Ge=!0;(function(){function t(){this.x=1}var e=[];t.prototype={valueOf:1,y:1};for(var n in new t)e.push(n);for(n in arguments)Ge=!n;X=!/valueOf/.test(e),Q="x"!=e[0]})(1);var Je=arguments.constructor==Object,Ke=!v(arguments),Xe="xx"!="x"[0]+Object("x")[0];try{var Qe=xe.call(document)==$e}catch(Ze){}var tn={"[object Function]":!1};tn[Ce]=tn[Ve]=tn[Le]=tn[De]=tn[He]=tn[$e]=tn[qe]=tn[Ue]=!0;var en={};en[Ve]=Array,en[Le]=Boolean,en[De]=Date,en[$e]=Object,en[He]=Number,en[qe]=RegExp,en[Ue]=String;var nn={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},rn={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};n.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:he,variable:""};var an={a:"o,v,g",k:"for(var a=1,b=typeof g=='number'?2:arguments.length;a<b;a++){if((l=arguments[a])){",g:"t[i]=l[i]",c:"}}"},on={a:"d,c,w",k:"c=c&&typeof w=='undefined'?c:e(c,w)",b:"if(c(l[i],i,d)===false)return t",g:"if(c(l[i],i,d)===false)return t"},sn={b:null},un=u(on),cn=u(an);Ke&&(v=function(t){return t?Te.call(t,"callee"):!1});var ln=u(on,sn,{l:!1}),dn=u(on,sn),pn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},fn=b(pn),hn=u(an,{g:"if(t[i]==null)"+an.g}),vn=Oe||function(t){return Je&&t instanceof Array||xe.call(t)==Ve};w(/x/)&&(w=function(t){return t instanceof Function||"[object Function]"==xe.call(t)});var gn=we?function(t){if(!t||"object"!=typeof t)return!1;var e=t.valueOf,n="function"==typeof e&&(n=we(e))&&we(n);return n?t==n||we(t)==n&&!v(t):g(t)}:g,mn=Ie?function(t){return"function"==typeof t&&ke.call(t,"prototype")?m(t):T(t)?Ie(t):[]}:m;n.after=function(t,e){return 1>t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},n.assign=cn,n.bind=B,n.bindAll=function(t){for(var e=arguments,n=e.length>1?0:(e=E(t),-1),r=e.length;r>++n;){var i=e[n];t[i]=B(t[i],t)}return t},n.bindKey=function(t,e){return o(t,e,f(arguments,2))},n.compact=function(t){for(var e=-1,n=t?t.length:0,r=[];n>++e;){var i=t[e];i&&r.push(i)}return r},n.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}},n.countBy=function(t,e,n){var r={},e=s(e,n);return j(t,function(t,n,i){n=e(t,n,i),Te.call(r,n)?r[n]++:r[n]=1}),r},n.debounce=function(t,e,n){function r(){s=null,n||(a=t.apply(o,i))}var i,a,o,s;return function(){var u=n&&!s;return i=arguments,o=this,clearTimeout(s),s=setTimeout(r,e),u&&(a=t.apply(o,i)),a}},n.defaults=hn,n.defer=function(t){var n=f(arguments,1);return setTimeout(function(){t.apply(e,n)},1)},n.delay=function(t,n){var r=f(arguments,2);return setTimeout(function(){t.apply(e,r)},n)},n.difference=function(t){for(var e=-1,n=t?t.length:0,i=be.apply(Z,arguments),i=r(i,n),a=[];n>++e;){var o=t[e];i(o)||a.push(o)}return a},n.filter=N,n.flatten=$,n.forEach=j,n.forIn=ln,n.forOwn=dn,n.functions=E,n.groupBy=function(t,e,n){var r={},e=s(e,n);return j(t,function(t,n,i){n=e(t,n,i),(Te.call(r,n)?r[n]:r[n]=[]).push(t)}),r},n.initial=function(t,e,n){if(!t)return[];var r=t.length;return f(t,0,Me(je(0,r-(null==e||n?1:e||0)),r))},n.intersection=function(t){var e=arguments,n=e.length,i={0:{}},a=-1,o=t?t.length:0,s=o>=100,u=[],c=u;t:for(;o>++a;){var l=t[a];if(s)var d=l+"",d=Te.call(i[0],d)?!(c=i[0][d]):c=i[0][d]=[];if(d||0>q(c,l)){s&&c.push(l);for(var p=n;--p;)if(!(i[p]||(i[p]=r(e[p],0,100)))(l))continue t;u.push(l)}}return u},n.invert=b,n.invoke=function(t,e){var n=f(arguments,2),r="function"==typeof e,i=[];return j(t,function(t){i.push((r?e:t[e]).apply(t,n))}),i},n.keys=mn,n.map=M,n.max=R,n.memoize=function(t,e){var n={};return function(){var r=e?e.apply(this,arguments):arguments[0];return Te.call(n,r)?n[r]:n[r]=t.apply(this,arguments)}},n.merge=x,n.min=function(t,e,n){var r=1/0,a=-1,o=t?t.length:0,u=r;if(e||!vn(t))e=!e&&k(t)?i:s(e,n),un(t,function(t,n,i){n=e(t,n,i),r>n&&(r=n,u=t)});else for(;o>++a;)u>t[a]&&(u=t[a]);return u},n.object=function(t,e){for(var n=-1,r=t?t.length:0,i={};r>++n;){var a=t[n];e?i[a]=e[n]:i[a[0]]=a[1]}return i},n.omit=function(t,e,n){var r="function"==typeof e,i={};if(r)e=s(e,n);else var a=be.apply(Z,arguments);return ln(t,function(t,n,o){(r?!e(t,n,o):0>q(a,n,1))&&(i[n]=t)}),i},n.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},n.pairs=function(t){var e=[];return dn(t,function(t,n){e.push([n,t])}),e},n.partial=function(t){return o(t,f(arguments,1))},n.pick=function(t,e,n){var r={};if("function"!=typeof e)for(var i=0,a=be.apply(Z,arguments),o=a.length;o>++i;){var u=a[i];u in t&&(r[u]=t[u])}else e=s(e,n),ln(t,function(t,n,i){e(t,n,i)&&(r[n]=t)});return r},n.pluck=C,n.range=function(t,e,n){t=+t||0,n=+n||1,null==e&&(e=t,t=0);for(var r=-1,e=je(0,Ee((e-t)/n)),i=Array(e);e>++r;)i[r]=t,t+=n;return i},n.reject=function(t,e,n){return e=s(e,n),N(t,function(t,n,r){return!e(t,n,r)})},n.rest=U,n.shuffle=function(t){var e=-1,n=Array(t?t.length:0);return j(t,function(t){var r=_e(Re()*(++e+1));n[e]=n[r],n[r]=t}),n},n.sortBy=function(t,e,n){var r=[],e=s(e,n);for(j(t,function(t,n,i){r.push({a:e(t,n,i),b:n,c:t})}),t=r.length,r.sort(a);t--;)r[t]=r[t].c;return r},n.tap=function(t,e){return e(t),t},n.throttle=function(t,e){function n(){s=new Date,o=null,i=t.apply(a,r)}var r,i,a,o,s=0;return function(){var u=new Date,c=e-(u-s);return r=arguments,a=this,0>=c?(clearTimeout(o),o=null,s=u,i=t.apply(a,r)):o||(o=setTimeout(n,c)),i}},n.times=function(t,e,n){for(var t=+t||0,r=-1,i=Array(t);t>++r;)i[r]=e.call(n,r);return i},n.toArray=function(t){return"number"==typeof(t?t.length:0)?Xe&&k(t)?t.split(""):f(t):P(t)},n.union=function(){return W(be.apply(Z,arguments))},n.uniq=W,n.values=P,n.where=function(t,e){var n=mn(e);return N(t,function(t){for(var r=n.length;r--;){var i=t[n[r]]===e[n[r]];if(!i)break}return!!i})},n.without=function(t){for(var e=-1,n=t?t.length:0,i=r(arguments,1,20),a=[];n>++e;){var o=t[e];i(o)||a.push(o)}return a},n.wrap=function(t,e){return function(){var n=[t];return Se.apply(n,arguments),e.apply(this,n)}},n.zip=function(t){for(var e=-1,n=t?R(C(arguments,"length")):0,r=Array(n);n>++e;)r[e]=C(arguments,e);return r},n.collect=M,n.drop=U,n.each=j,n.extend=cn,n.methods=E,n.select=N,n.tail=U,n.unique=W,z(n),n.clone=y,n.cloneDeep=function(t){return y(t,!0)},n.contains=O,n.escape=function(t){return null==t?"":(t+"").replace(ge,l)},n.every=A,n.find=I,n.has=function(t,e){return t?Te.call(t,e):!1},n.identity=Y,n.indexOf=q,n.isArguments=v,n.isArray=vn,n.isBoolean=function(t){return!0===t||!1===t||xe.call(t)==Le},n.isDate=function(t){return t instanceof Date||xe.call(t)==De},n.isElement=function(t){return t?1===t.nodeType:!1},n.isEmpty=function(t){var e=!0;if(!t)return e;var n=xe.call(t),r=t.length;return n==Ve||n==Ue||n==Ce||Ke&&v(t)||n==$e&&"number"==typeof r&&w(t.splice)?!r:(dn(t,function(){return e=!1}),e)},n.isEqual=_,n.isFinite=function(t){return Ae(t)&&!Ne(parseFloat(t))},n.isFunction=w,n.isNaN=function(t){return S(t)&&t!=+t},n.isNull=function(t){return null===t},n.isNumber=S,n.isObject=T,n.isPlainObject=gn,n.isRegExp=function(t){return t instanceof RegExp||xe.call(t)==qe},n.isString=k,n.isUndefined=function(t){return t===void 0},n.lastIndexOf=function(t,e,n){var r=t?t.length:0;for("number"==typeof n&&(r=(0>n?je(0,r+n):Me(n,r-1))+1);r--;)if(t[r]===e)return r;return-1},n.mixin=z,n.noConflict=function(){return t._=ie,this},n.random=function(t,e){return null==t&&null==e&&(e=1),t=+t||0,null==e&&(e=t,t=0),t+_e(Re()*((+e||0)-t+1))},n.reduce=V,n.reduceRight=L,n.result=function(t,e){var n=t?t[e]:null;return w(n)?t[e]():n},n.size=function(t){var e=t?t.length:0;return"number"==typeof e?e:mn(t).length},n.some=D,n.sortedIndex=F,n.template=function(t,e,r){t||(t=""),r||(r={});var i,a,o=n.templateSettings,s=0,u=r.interpolate||o.interpolate||ve,l="__p+='",d=r.variable||o.variable,p=d;t.replace(RegExp((r.escape||o.escape||ve).source+"|"+u.source+"|"+(u===he?fe:ve).source+"|"+(r.evaluate||o.evaluate||ve).source+"|$","g"),function(e,n,r,a,o,u){return r||(r=a),l+=t.slice(s,u).replace(me,c),n&&(l+="'+__e("+n+")+'"),o&&(l+="';"+o+";__p+='"),r&&(l+="'+((__t=("+r+"))==null?'':__t)+'"),i||(i=o||ae.test(n||r)),s=u+e.length,e}),l+="';\n",p||(d="obj",i?l="with("+d+"){"+l+"}":(r=RegExp("(\\(\\s*)"+d+"\\."+d+"\\b","g"),l=l.replace(de,"$&"+d+".").replace(r,"$1__d"))),l=(i?l.replace(se,""):l).replace(ue,"$1").replace(ce,"$1;"),l="function("+d+"){"+(p?"":d+"||("+d+"={});")+"var __t,__p='',__e=_.escape"+(i?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":(p?"":",__d="+d+"."+d+"||"+d)+";")+l+"return __p}";try{a=Function("_","return "+l)(n)}catch(f){throw f.source=l,f}return e?a(e):(a.source=l,a)},n.unescape=function(t){return null==t?"":(t+"").replace(oe,h)},n.uniqueId=function(t){return(null==t?"":t+"")+ ++ee},n.all=A,n.any=D,n.detect=I,n.foldl=V,n.foldr=L,n.include=O,n.inject=V,dn(n,function(t,e){n.prototype[e]||(n.prototype[e]=function(){var e=[this.__wrapped__];return Se.apply(e,arguments),t.apply(n,e)})}),n.first=H,n.last=function(t,e,n){if(t){var r=t.length;return null==e||n?t[r-1]:f(t,je(0,r-e))}},n.take=H,n.head=H,dn(n,function(t,e){n.prototype[e]||(n.prototype[e]=function(e,r){var i=t(this.__wrapped__,e,r);return null==e||r?i:new n(i)})}),n.VERSION="1.0.0-rc.3",n.prototype.toString=function(){return this.__wrapped__+""},n.prototype.value=G,n.prototype.valueOf=G,un(["join","pop","shift"],function(t){var e=Z[t];n.prototype[t]=function(){return e.apply(this.__wrapped__,arguments)}}),un(["push","reverse","sort","unshift"],function(t){var e=Z[t];n.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),un(["concat","slice","splice"],function(t){var e=Z[t];n.prototype[t]=function(){var t=e.apply(this.__wrapped__,arguments);return new n(t)}}),ze&&un(["pop","shift","splice"],function(t){var e=Z[t],r="splice"==t;n.prototype[t]=function(){var t=this.__wrapped__,i=e.apply(t,arguments);return 0===t.length&&delete t[0],r?new n(i):i}}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t._=n,define("underscore",[],function(){return n})):J?"object"==typeof module&&module&&module.exports==J?(module.exports=n)._=n:J._=n:t._=n})(this),function(){var t,e=this,n=e.Backbone,r=[],i=r.push,a=r.slice,o=r.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="0.9.9";var s=e._;s||"undefined"==typeof require||(s=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender,t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var u=/\s+/,c=function(t,e,n,r){if(!n)return!0;if("object"==typeof n)for(var i in n)t[e].apply(t,[i,n[i]].concat(r));else{if(!u.test(n))return!0;for(var a=n.split(u),o=0,s=a.length;s>o;o++)t[e].apply(t,[a[o]].concat(r))}},l=function(t,e,n){var r,i=-1,a=e.length;switch(n.length){case 0:for(;a>++i;)(r=e[i]).callback.call(r.ctx);return;case 1:for(;a>++i;)(r=e[i]).callback.call(r.ctx,n[0]);return;case 2:for(;a>++i;)(r=e[i]).callback.call(r.ctx,n[0],n[1]);return;case 3:for(;a>++i;)(r=e[i]).callback.call(r.ctx,n[0],n[1],n[2]);return;default:for(;a>++i;)(r=e[i]).callback.apply(r.ctx,n)}},d=t.Events={on:function(t,e,n){if(!c(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!c(this,"once",t,[e,n])||!e)return this;var r=this,i=s.once(function(){r.off(t,i),e.apply(this,arguments)});return i._callback=e,this.on(t,i,n),this},off:function(t,e,n){var r,i,a,o,u,l,d,p;if(!this._events||!c(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(o=t?[t]:s.keys(this._events),u=0,l=o.length;l>u;u++)if(t=o[u],r=this._events[t]){if(a=[],e||n)for(d=0,p=r.length;p>d;d++)i=r[d],(e&&e!==(i.callback._callback||i.callback)||n&&n!==i.context)&&a.push(i);this._events[t]=a}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!c(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&l(this,n,e),r&&l(this,r,arguments),this},listenTo:function(t,e,n,r){r=r||this;var i=this._listeners||(this._listeners={}),a=t._listenerId||(t._listenerId=s.uniqueId("l"));return i[a]=t,t.on(e,n||r,r),this},stopListening:function(t,e,n,r){r=r||this;var i=this._listeners;if(i){if(t)t.off(e,n,r),e||n||delete i[t._listenerId];else{for(var a in i)i[a].off(null,null,r);this._listeners={}}return this}}};d.bind=d.on,d.unbind=d.off,s.extend(t,d);var p=t.Model=function(t,e){var n,r=t||{};this.cid=s.uniqueId("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(r=this.parse(r,e)||{}),(n=s.result(this,"defaults"))&&(r=s.defaults({},r,n)),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};s.extend(p.prototype,d,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(){return s.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return s.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var r,i,a,o,u,c,l,d,p;if(null==t)return this;if("object"==typeof t?(i=t,n=e):(i={})[t]=e,n||(n={}),a=n.unset,u=n.silent,o=[],c=!1,l=this._changing,this._changing=!0,l||(this._previousAttributes=s.clone(this.attributes),this.changed={}),p=this.attributes,d=this._previousAttributes,!this._validate(i,n))return!1;this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)e=i[r],s.isEqual(p[r],e)||o.push(r),s.isEqual(d[r],e)?delete this.changed[r]:(c=!0,this.changed[r]=e),a?delete p[r]:p[r]=e;if(this._pending=!!o.length,!u)for(var f=0,h=o.length;h>f;f++)this.trigger("change:"+o[f],this,p[o[f]],n);if(l)return this;if(!u)for(!this._pending&&c&&this.trigger("change",this,n);this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,s.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,s.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!s.isEmpty(this.changed):s.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?s.clone(this.changed):!1;var e,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in t)s.isEqual(r[i],e=t[i])||((n||(n={}))[i]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(t){t=t?s.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success;return t.success=function(t,n,r){return t.set(t.parse(n,r),r)?(e&&e(t,n,r),void 0):!1},this.sync("read",this,t)},save:function(t,e,n){var r,i,a,o,u=this.attributes;return null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e,!r||n&&n.wait||this.set(r,n)?(n=s.extend({validate:!0},n),this._validate(r,n)?(r&&n.wait&&(this.attributes=s.extend({},u,r)),i=n.success,n.success=function(t,e,n){t.attributes=u;var a=t.parse(e,n);return n.wait&&(a=s.extend(r||{},a)),t.set(a,n)?(i&&i(t,e,n),void 0):!1},a=this.isNew()?"create":n.patch?"patch":"update","patch"==a&&(n.attrs=r),o=this.sync(a,this,n),r&&n.wait&&(this.attributes=u),o):!1):!1},destroy:function(t){t=t?s.clone(t):{};var e=this,n=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(t,e,i){(i.wait||t.isNew())&&r(),n&&n(t,e,i)},this.isNew())return t.success(this,null,t),!1;var i=this.sync("delete",this,t);return t.wait||r(),i},url:function(){var t=s.result(this,"urlRoot")||s.result(this.collection,"url")||I();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return!this.validate||!this.validate(this.attributes,t)},_validate:function(t,e){if(!e||!e.validate||!this.validate)return!0;e||(e={}),t=s.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,e||{}),!1):!0}});var f=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,s.extend({silent:!0},e))};s.extend(f.prototype,d,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){t=s.isArray(t)?t.slice():[t],e||(e={});var n,r,a,u,c,l,d,p,f,h;for(h=[],f=e.at,l=this.comparator&&null==f&&(null==e.sort||e.sort),p=s.isString(this.comparator)?this.comparator:null,n=0,r=t.length;r>n;n++)u=t[n],(a=this._prepareModel(u,e))?(t[n]=a,(c=this.get(a))?e.merge&&(c.set(u===a?a.attributes:u,e),l&&!d&&c.hasChanged(p)&&(d=!0)):(h.push(a),a.on("all",this._onModelEvent,this),this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a))):this.trigger("invalid",this,u,e);if(h.length&&(l&&(d=!0),this.length+=h.length,null!=f?o.apply(this.models,[f,0].concat(h)):i.apply(this.models,h)),d&&this.sort({silent:!0}),e.silent)return this;for(n=0,r=h.length;r>n;n++)(a=h[n]).trigger("add",a,this,e);return d&&this.trigger("sort",this,e),this},remove:function(t,e){t=s.isArray(t)?t.slice():[t],e||(e={});var n,r,i,a;for(n=0,r=t.length;r>n;n++)a=this.get(t[n]),a&&(delete this._byId[a.id],delete this._byId[a.cid],i=this.indexOf(a),this.models.splice(i,1),this.length--,e.silent||(e.index=i,a.trigger("remove",a,this,e)),this._removeReference(a));return this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,s.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,s.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:(this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[t.id||t.cid||t[this._idAttr]||t])},at:function(t){return this.models[t]},where:function(t){return s.isEmpty(t)?[]:this.filter(function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},sort:function(t){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return t||(t={}),s.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(s.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return s.invoke(this.models,"get",t)},update:function(t,e){e=s.extend({add:!0,merge:!0,remove:!0},e),e.parse&&(t=this.parse(t,e));var n,r,i,a,o=[],u=[],c={};if(s.isArray(t)||(t=t?[t]:[]),e.add&&!e.remove)return this.add(t,e);for(r=0,i=t.length;i>r;r++)n=t[r],a=this.get(n),e.remove&&a&&(c[a.cid]=!0),(e.add&&!a||e.merge&&a)&&o.push(n);if(e.remove)for(r=0,i=this.models.length;i>r;r++)n=this.models[r],c[n.cid]||u.push(n);return u.length&&this.remove(u,e),o.length&&this.add(o,e),this},reset:function(t,e){e||(e={}),e.parse&&(t=this.parse(t,e));for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),t&&this.add(t,s.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},fetch:function(t){t=t?s.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success;return t.success=function(t,n,r){var i=r.update?"update":"reset";t[i](n,r),e&&e(t,n,r)},this.sync("read",this,t)},create:function(t,e){e=e?s.clone(e):{},t=this._prepareModel(t,e);var n=this;if(!t)return!1;e.wait||n.add(t,e);var r=e.success;return e.success=function(t,e,i){i.wait&&n.add(t,i),r&&r(t,e,i)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},chain:function(){return s(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:!1},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var h=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortedIndex","toArray","size","first","head","take","initial","rest","tail","last","without","indexOf","shuffle","lastIndexOf","isEmpty"];s.each(h,function(t){f.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),s[t].apply(s,e)}});var v=["groupBy","countBy","sortBy"];s.each(v,function(t){f.prototype[t]=function(e,n){var r=s.isFunction(e)?e:function(t){return t.get(e)};return s[t](this.models,r,n)}});var g=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},m=/\((.*?)\)/g,y=/(\(\?)?:\w+/g,E=/\*\w+/g,b=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(g.prototype,d,{initialize:function(){},route:function(e,n,r){return s.isRegExp(e)||(e=this._routeToRegExp(e)),r||(r=this[n]),t.history.route(e,s.bind(function(i){var a=this._extractParameters(e,i);r&&r.apply(this,a),this.trigger.apply(this,["route:"+n].concat(a)),t.history.trigger("route",this,n,a)},this)),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes)for(var t,e=s.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])},_routeToRegExp:function(t){return t=t.replace(b,"\\$&").replace(m,"(?:$1)?").replace(y,function(t,e){return e?t:"([^/]+)"}).replace(E,"(.*?)"),RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}});var _=t.History=function(){this.handlers=[],s.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},w=/^[#\/]|\s+$/g,T=/^\/+|\/+$/g,S=/msie [\w.]+/,k=/\/$/;_.started=!1,s.extend(_.prototype,d,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var n=this.root.replace(k,"");t.indexOf(n)||(t=t.substr(n.length))}else t=this.getHash();return t.replace(w,"")},start:function(e){if(_.started)throw Error("Backbone.history has already been started");_.started=!0,this.options=s.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),r=document.documentMode,i=S.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);this.root=("/"+this.root+"/").replace(T,"/"),i&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;
var a=this.location,o=a.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&o&&a.hash&&(this.fragment=this.getHash().replace(w,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),_.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=s.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return n},navigate:function(t,e){if(!_.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var n=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),t.history=new _;var x=t.View=function(t){this.cid=s.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},P=/^(\S+)\s*(.*)$/,O=["model","collection","el","id","attributes","className","tagName","events"];s.extend(x.prototype,d,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},make:function(e,n,r){var i=document.createElement(e);return n&&t.$(i).attr(n),null!=r&&t.$(i).html(r),i},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=s.result(this,"events"))){this.undelegateEvents();for(var e in t){var n=t[e];if(s.isFunction(n)||(n=this[t[e]]),!n)throw Error('Method "'+t[e]+'" does not exist');var r=e.match(P),i=r[1],a=r[2];n=s.bind(n,this),i+=".delegateEvents"+this.cid,""===a?this.$el.on(i,n):this.$el.on(i,a,n)}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=s.extend({},s.result(this,"options"),t)),s.extend(this,s.pick(t,O)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"),!1);else{var t=s.extend({},s.result(this,"attributes"));this.id&&(t.id=s.result(this,"id")),this.className&&(t["class"]=s.result(this,"className")),this.setElement(this.make(s.result(this,"tagName"),t),!1)}}});var A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.sync=function(e,n,r){var i=A[e];s.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:i,dataType:"json"};if(r.url||(a.url=s.result(n,"url")||I()),null!=r.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){a.type="POST",r.emulateJSON&&(a.data._method=i);var o=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",i),o?o.apply(this,arguments):void 0}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var u=r.success;r.success=function(t){u&&u(n,t,r),n.trigger("sync",n,t,r)};var c=r.error;r.error=function(t){c&&c(n,t,r),n.trigger("error",n,t,r)};var l=r.xhr=t.ajax(s.extend(a,r));return n.trigger("request",n,l,r),l},t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var N=function(t,e){var n,r=this;n=t&&s.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},s.extend(n,r,e);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,t&&s.extend(n.prototype,t),n.__super__=r.prototype,n};p.extend=f.extend=g.extend=x.extend=_.extend=N;var I=function(){throw Error('A "url" property or function must be specified')}}.call(this),define("backbone",["underscore"],function(t){return function(){var e;return e||t.Backbone}}(this)),function(){var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],e=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r=[],i={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g},a=function(t){var e=i,n="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(e.interpolate,function(t,e){return"',"+e.replace(/\\'/g,"'")+",'"}).replace(e.evaluate||null,function(t,e){return"');"+e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"; __p.push('"}).replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"")+"');}return __p.join('');";return n};define("tpl",[],function(){var i,o,s;return"undefined"!=typeof window&&window.navigator&&window.document?o=function(t,e){var n=i.createXhr();n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&e(n.responseText)},n.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node&&(s=require.nodeRequire("fs"),o=function(t,e){e(s.readFileSync(t,"utf8"))}),i={version:"0.24.0",strip:function(t){if(t){t=t.replace(e,"");var r=t.match(n);r&&(t=r[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"").replace(/[\t]/g,"").replace(/[\r]/g,"")},createXhr:function(){var e,n,r;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(n=0;3>n;n++){r=t[n];try{e=new ActiveXObject(r)}catch(i){}if(e){t=[r];break}}if(!e)throw Error("require.getXhr(): XMLHttpRequest not available");return e},get:o,load:function(t,e,n,o){var s,u=!1,c=t.indexOf("."),l=t.substring(0,c),d=t.substring(c+1,t.length);c=d.indexOf("!"),-1!==c&&(u=d.substring(c+1,d.length),u="strip"===u,d=d.substring(0,c)),s="nameToUrl"in e?e.nameToUrl(l,"."+d):e.toUrl(l+"."+d),i.get(s,function(e){e=a(e),o.isBuild||(e=Function("obj",e)),e=u?i.strip(e):e,o.isBuild&&o.inlineText&&(r[t]=e),n(e)})},write:function(t,e,n){if(e in r){var a=i.jsEscape(r[e]);n("define('"+t+"!"+e+"', function() {return function(obj) { "+a.replace(/(\\')/g,"'").replace(/(\\\\)/g,"\\")+"}});\n")}}}})}(),define("tpl!templates/item.html",function(){return function(obj){var __p=[];with(obj||{})__p.push(""),"undefined"!=typeof metadata&&(__p.push("  <h2>",metadata.get("title"),"</h2>  "),metadata.get("artwork_url")&&__p.push('  <img src="',metadata.get("artwork_url"),'"/>  '),__p.push("")),__p.push("<p>",get("url"),'</p><div class="controls">  <a href="#" data-action="destroy">remove</a></div>');return __p.join("")}}),define("views/playlist-item",["underscore","backbone","tpl!templates/item.html"],function(t,e,n){return e.View.extend({tagName:"li",id:function(){return"item"+this.model.cid},initialize:function(t){if(this.parent=t.parent,!this.model)throw Error("Requires a model");this.render(),this.parent.$(".ghost").before(this.el),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"activate",this.activate)},render:function(){this.$el.attr("draggable",!0).html(n(this.model))},activate:function(){this.parent.$(".js-active").removeClass("js-active"),this.$el.addClass("js-active")},events:{click:"play",'click [data-action="destroy"]':"destroy"},play:function(){this.model.trigger("activate",!0)},destroy:function(t){t.preventDefault(),this.model.destroy()}})}),define("views/playlist",["underscore","backbone","views/playlist-item"],function(t,e,n){return e.View.extend({el:$("#playlist"),initialize:function(){if(!this.collection)throw Error("Requires a collection");this.listenTo(this.collection,"add",this.add)},add:function(t){t.view=new n({model:t,parent:this})},events:{"dragstart .ghost":"ghostDrag",'drop [draggable="true"]':"drop",'dragend [draggable="true"]':"dragEnd",'dragover [draggable="true"]':"dragOver",'dragstart [draggable="true"]':"dragStart",'dragleave [draggable="true"]':"dragLeave"},drop:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault();var e=$("#"+t.originalEvent.dataTransfer.getData("Text"));return $(t.currentTarget).removeClass("drag-over").before(e),this.collection.trigger("usersort"),!1},dragStart:function(t){$(t.currentTarget).addClass("dragging"),t.originalEvent.dataTransfer.setData("Text",t.currentTarget.id),t.originalEvent.dataTransfer.dropEffect="move"},dragEnd:function(t){$(t.currentTarget).removeClass("dragging")},ghostDrag:function(t){t.preventDefault()},dragOver:function(t){return t.preventDefault&&t.preventDefault(),$(t.currentTarget).addClass("drag-over"),!1},dragLeave:function(t){$(t.currentTarget).removeClass("drag-over")}})}),function(t,e){function n(t){w.put.call(this,t)}function r(t){this.parent=t,this.byStart=[{start:-1,end:-1}],this.byEnd=[{start:-1,end:-1}],this.animating=[],this.startIndex=0,this.endIndex=0,this.previousUpdateTime=-1,Object.defineProperty(this,"count",{get:function(){return this.byStart.length}})}function i(t,e,n){return t[e]&&t[e]===n}function a(t,e){var n,r,i=t.data.trackEvents.byStart,a=t.data.trackEvents.byEnd;for(e&&e._id&&t.data.history.push(e._id),e.start=T.util.toSeconds(e.start,t.options.framerate),e.end=T.util.toSeconds(e.end,t.options.framerate),n=i.length-1;n>=0;n--)if(e.start>=i[n].start){i.splice(n+1,0,e);break}for(r=a.length-1;r>=0;r--)if(e.end>a[r].end){a.splice(r+1,0,e);break}t.data.trackEvents.startIndex>=n&&t.data.trackEvents.previousUpdateTime>=e.start&&t.data.trackEvents.startIndex++,t.data.trackEvents.endIndex>=r&&t.data.trackEvents.previousUpdateTime>e.end&&t.data.trackEvents.endIndex++,e.end>t.media.currentTime&&t.media.currentTime>=e.start&&(e._running=!0,t.data.running[e._natives.type].push(e),t.data.disabled[e._natives.type]||(e._natives.start.call(t,null,e),t.emit("trackstart",T.extend({},e,{plugin:e._natives.type,type:"trackstart",track:e}))))}function o(t,e,n){var r,i,a,o,s,u,c=t.data.trackEvents.byStart.length,l=0,d=0,p=[],f=[],h=[],v=[],g={};for(n=n||{};--c>-1;)r=t.data.trackEvents.byStart[l],i=t.data.trackEvents.byEnd[l],r._id||(p.push(r),f.push(i)),r._id&&(r._id!==e&&p.push(r),i._id!==e&&f.push(i),r._id===e&&(d=l,s=r)),l++;if(c=t.data.trackEvents.animating.length,l=0,c)for(;--c>-1;)a=t.data.trackEvents.animating[l],a._id||h.push(a),a._id&&a._id!==e&&h.push(a),l++;t.data.trackEvents.startIndex>=d&&t.data.trackEvents.startIndex--,t.data.trackEvents.endIndex>=d&&t.data.trackEvents.endIndex--,t.data.trackEvents.byStart=p,t.data.trackEvents.byEnd=f,t.data.trackEvents.animating=h,o=t.data.history.length;for(var m=0;o>m;m++)t.data.history[m]!==e&&v.push(t.data.history[m]);t.data.history=v,g.start=s.start,g.end=s.end,n&&n.previous&&(g.start=void 0!==n.previous.start?n.previous.start:g.start,g.end=void 0!==n.previous.end?n.previous.end:g.end),g.end>t.media.currentTime&&t.media.currentTime>=g.start&&(u=t.data.running[s._natives.type],s._running=!1,u.splice(u.indexOf(s),1),t.data.disabled[s._natives.type]||(s._natives.end.call(t,null,s),t.emit("trackend",T.extend({},s,{plugin:s._natives.type,type:"trackend",track:s}))))}function s(t,e){var n={};for(var r in t)f.call(e,r)&&f.call(t,r)&&(n[r]=t[r]);return n}function u(t,e){return function(){if(T.plugin.debug)return t.apply(this,arguments);try{return t.apply(this,arguments)}catch(n){T.plugin.errors.push({plugin:e,thrown:n,source:""+t}),this.emit("pluginerror",T.plugin.errors)}}}if(e.addEventListener){var c=Array.prototype,l=Object.prototype,d=c.forEach,p=c.slice,f=l.hasOwnProperty,h=l.toString,v=t.Popcorn,g=[],m=!1,y=!1,E={events:{hash:{},apis:{}}},b=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,16)}}(),_=function(t){return Object.keys?Object.keys(t):function(t){var e,n=[];for(e in t)f.call(t,e)&&n.push(e);return n}(t)},w={put:function(t){Object.getOwnPropertyNames(t).forEach(function(e){this[e]=t[e]},this)}},T=function(t,e){return new T.p.init(t,e||null)};T.version="cdef06e",T.isSupported=!0,T.instances=[],T.p=T.prototype={init:function(t,n){var i,a,o=this;{if("function"!=typeof t){if("string"==typeof t)try{i=e.querySelector(t)}catch(s){throw Error("Popcorn.js Error: Invalid media element selector: "+t)}if(this.media=i||t,a=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video",this[a]=this.media,this.options=T.extend({},n)||{},this.id=this.options.id||T.guid(a),T.byId(this.id))throw Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1,this.data={running:{cue:[]},timeUpdate:T.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new r(this)},T.instances.push(this);var u=function(){0>o.media.currentTime&&(o.media.currentTime=0),o.media.removeEventListener("loadedmetadata",u,!1);var t,e,n,r,i,a;t=o.media.duration,e=t!=t?Number.MAX_VALUE:t+1,T.addTrackEvent(o,{start:e,end:e}),o.options.frameAnimation?(o.data.timeUpdate=function(){T.timeUpdate(o,{}),T.forEach(T.manifest,function(t,e){if(n=o.data.running[e]){i=n.length;for(var s=0;i>s;s++)r=n[s],a=r._natives,a&&a.frame&&a.frame.call(o,{},r,o.currentTime())}}),o.emit("timeupdate"),!o.isDestroyed&&b(o.data.timeUpdate)},!o.isDestroyed&&b(o.data.timeUpdate)):(o.data.timeUpdate=function(t){T.timeUpdate(o,t)},o.isDestroyed||o.media.addEventListener("timeupdate",o.data.timeUpdate,!1))};return Object.defineProperty(this,"error",{get:function(){return o.media.error}}),o.media.readyState>=1?u():o.media.addEventListener("loadedmetadata",u,!1),this}if("complete"===e.readyState)return t(e,T),void 0;if(g.push(t),!m){m=!0;var c=function(){y=!0,e.removeEventListener("DOMContentLoaded",c,!1);for(var t=0,n=g.length;n>t;t++)g[t].call(e,T);g=null};e.addEventListener("DOMContentLoaded",c,!1)}}}},T.p.init.prototype=T.p,T.byId=function(t){for(var e=T.instances,n=e.length,r=0;n>r;r++)if(e[r].id===t)return e[r];return null},T.forEach=function(t,e,n){if(!t||!e)return{};n=n||this;var r,i;if(d&&t.forEach===d)return t.forEach(e,n);if("[object NodeList]"===h.call(t)){for(r=0,i=t.length;i>r;r++)e.call(n,t[r],r,t);return t}for(r in t)f.call(t,r)&&e.call(n,t[r],r,t);return t},T.extend=function(t){var e=t,n=p.call(arguments,1);return T.forEach(n,function(t){for(var n in t)e[n]=t[n]}),e},T.extend(T,{noConflict:function(e){return e&&(t.Popcorn=v),T},error:function(t){throw Error(t)},guid:function(t){return T.guid.counter++,(t?t:"")+(+new Date+T.guid.counter)},sizeOf:function(t){var e=0;for(var n in t)e++;return e},isArray:Array.isArray||function(t){return"[object Array]"===h.call(t)},nop:function(){},position:function(n){var r,i,a,o,s,u,c=n.getBoundingClientRect(),l={},d=(n.ownerDocument,e.documentElement),p=e.body;r=d.clientTop||p.clientTop||0,i=d.clientLeft||p.clientLeft||0,a=t.pageYOffset&&d.scrollTop||p.scrollTop,o=t.pageXOffset&&d.scrollLeft||p.scrollLeft,s=Math.ceil(c.top+a-r),u=Math.ceil(c.left+o-i);for(var f in c)l[f]=Math.round(c[f]);return T.extend({},l,{top:s,left:u})},disable:function(t,e){if(!t.data.disabled[e]){if(t.data.disabled[e]=!0,e in T.registryByName&&t.data.running[e])for(var n,r=t.data.running[e].length-1;r>=0;r--)n=t.data.running[e][r],n._natives.end.call(t,null,n),t.emit("trackend",T.extend({},n,{plugin:n.type,type:"trackend"}));return t}},enable:function(t,e){if(t.data.disabled[e]){if(t.data.disabled[e]=!1,e in T.registryByName&&t.data.running[e])for(var n,r=t.data.running[e].length-1;r>=0;r--)n=t.data.running[e][r],n._natives.start.call(t,null,n),t.emit("trackstart",T.extend({},n,{plugin:n.type,type:"trackstart",track:n}));return t}},destroy:function(t){var e,n,r,i,a=t.data.events,o=t.data.trackEvents;for(n in a){e=a[n];for(r in e)delete e[r];a[n]=null}for(i in T.registryByName)T.removePlugin(t,i);o.byStart.length=0,o.byEnd.length=0,t.isDestroyed||(t.data.timeUpdate&&t.media.removeEventListener("timeupdate",t.data.timeUpdate,!1),t.isDestroyed=!0),T.instances.splice(T.instances.indexOf(t),1)}}),T.guid.counter=1,T.extend(T.p,function(){var t="load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended",e={};return T.forEach(t.split(/\s+/g),function(t){e[t]=function(e){var n;return"function"==typeof this.media[t]?(null!=e&&/play|pause/.test(t)&&(this.media.currentTime=T.util.toSeconds(e)),this.media[t](),this):null!=e?(n=this.media[t],this.media[t]=e,n!==e&&this.emit("attrchange",{attribute:t,previousValue:n,currentValue:e}),this):this.media[t]}}),e}()),T.forEach("enable disable".split(" "),function(t){T.p[t]=function(e){return T[t](this,e)}}),T.extend(T.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(t,e,n){var r,i,a,o=arguments.length,s="trackadded";try{i=T.util.toSeconds(t)}catch(u){}if("number"==typeof i&&(t=i),"number"==typeof t&&2===o)n=e,e=t,t=T.guid("cue");else if(1===o)e=-1;else if(r=this.getTrackEvent(t))T.removeTrackEvent(this,t),s="cuechange","string"==typeof t&&2===o&&("number"==typeof e&&(n=r._natives.start),"function"==typeof e&&(n=e,e=r.start));else if(o>=2){if("string"==typeof e){try{i=T.util.toSeconds(e)}catch(u){}e=i}"number"==typeof e&&(n=n||T.nop()),"function"==typeof e&&(n=e,e=-1)}return a={id:t,start:e,end:e+1,_running:!1,_natives:{start:n||T.nop,end:T.nop,type:"cue"}},T.addTrackEvent(this,a),"cuechange"===s&&this.emit(s,T.extend({},a,{id:t,type:s,previousValue:{time:r.start,fn:r._natives.start},currentValue:{time:e,fn:n||T.nop},track:r})),this},mute:function(t){var e=null==t||t===!0?"muted":"unmuted";return"unmuted"===e&&(this.media.muted=!1,this.media.volume=this.data.state.volume),"muted"===e&&(this.data.state.volume=this.media.volume,this.media.muted=!0),this.emit(e),this},unmute:function(t){return this.mute(null==t?!1:!t)},position:function(){return T.position(this.media)},toggle:function(t){return T[this.data.disabled[t]?"enable":"disable"](this,t)},defaults:function(t,e){return T.isArray(t)?(T.forEach(t,function(t){for(var e in t)this.defaults(e,t[e])},this),this):(this.options.defaults||(this.options.defaults={}),this.options.defaults[t]||(this.options.defaults[t]={}),T.extend(this.options.defaults[t],e),this)}}),T.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"},T.Events.Natives=T.Events.UIEvents+" "+T.Events.MouseEvents+" "+T.Events.Events,E.events.apiTypes=["UIEvents","MouseEvents","Events"],function(t,e){for(var n=E.events.apiTypes,r=t.Natives.split(/\s+/g),i=0,a=r.length;a>i;i++)e.hash[r[i]]=!0;n.forEach(function(n){e.apis[n]={};for(var r=t[n].split(/\s+/g),i=r.length,a=0;i>a;a++)e.apis[n][r[a]]=!0})}(T.Events,E.events),T.events={isNative:function(t){return!!E.events.hash[t]},getInterface:function(t){if(!T.events.isNative(t))return!1;for(var e,n,r=E.events,i=r.apiTypes,a=r.apis,o=0,s=i.length;s>o;o++)if(n=i[o],a[n][t]){e=n;break}return e},all:T.Events.Natives.split(/\s+/g),fn:{trigger:function(n,r){var i,a,o,s=this.data.events[n];if(s){if(i=T.events.getInterface(n))return a=e.createEvent(i),a.initEvent(n,!0,!0,t,1),this.media.dispatchEvent(a),this;for(o=s.slice();o.length;)o.shift().call(this,r)}return this},listen:function(t,e){var n,r,i=this,a=!0,o=T.events.hooks[t];if("function"!=typeof e)throw Error("Popcorn.js Error: Listener is not a function");return this.data.events[t]||(this.data.events[t]=[],a=!1),o&&(o.add&&o.add.call(this,{},e),o.bind&&(t=o.bind),o.handler&&(r=e,e=function(t){o.handler.call(i,t,r)}),a=!0,this.data.events[t]||(this.data.events[t]=[],a=!1)),this.data.events[t].push(e),!a&&T.events.all.indexOf(t)>-1&&this.media.addEventListener(t,function(e){if(i.data.events[t])for(n=i.data.events[t].slice();n.length;)n.shift().call(i,e)},!1),this},unlisten:function(t,e){var n,r=this.data.events[t];if(r){if("string"==typeof e){for(var i=0;r.length>i;i++)r[i].name===e&&r.splice(i--,1);return this}if("function"==typeof e){for(;-1!==n;)n=r.indexOf(e),-1!==n&&r.splice(n,1);return this}return this.data.events[t]=null,this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(t,e){var n=!1;this.media.readyState&&(setTimeout(function(){e.call(this,t)}.bind(this),0),n=!0),this.data.hooks.canplayall={fired:n}},handler:function(t,e){this.data.hooks.canplayall.fired||(e.call(this,t),this.data.hooks.canplayall.fired=!0)}}}},T.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(t){T.p[t[0]]=T.p[t[1]]=T.events.fn[t[0]]}),r.prototype.remove=function(t){return this.where(t).forEach(function(t){this.removeTrackEvent(t._id)},this.parent),this},r.prototype.where=function(t){return(this.parent.getTrackEvents()||[]).filter(function(e){var n,r;if(!t)return!0;for(n in t)if(r=t[n],i(e,n,r)||i(e._natives,n,r))return!0;return!1})},T.addTrackEvent=function(t,e){var r=!1;e instanceof n||(e=new n(e),r=!0),e&&e._natives&&e._natives.type&&t.options.defaults&&t.options.defaults[e._natives.type]&&(e=T.extend({},t.options.defaults[e._natives.type],e)),e._natives&&(e._id=e.id||e._id||T.guid(e._natives.type),e._natives._setup&&(e._natives._setup.call(t,e),t.emit("tracksetup",T.extend({},e,{plugin:e._natives.type,type:"tracksetup",track:e})))),a(t,e),this.timeUpdate(t,null,!0),e._id&&T.addTrackEvent.ref(t,e),r&&t.emit("trackadded",T.extend({},e,e._natives?{plugin:e._natives.type}:{},{type:"trackadded",track:e}))},T.addTrackEvent.ref=function(t,e){return t.data.trackRefs[e._id]=e,t},T.removeTrackEvent=function(t,e,n){var r=t.getTrackEvent(e);n=n||{},r&&(r._natives._teardown&&r._natives._teardown.call(t,r),o(t,e,n),T.removeTrackEvent.ref(t,e),r._natives&&t.emit("trackremoved",T.extend({},r,{plugin:r._natives.type,type:"trackremoved",track:r})))},T.removeTrackEvent.ref=function(t,e){return delete t.data.trackRefs[e],t},T.getTrackEvents=function(t){for(var e,n=[],r=t.data.trackEvents.byStart,i=r.length,a=0;i>a;a++)e=r[a],e._id&&n.push(e);return n},T.getTrackEvents.ref=function(t){return t.data.trackRefs},T.getTrackEvent=function(t,e){return t.data.trackRefs[e]},T.getTrackEvent.ref=function(t,e){return t.data.trackRefs[e]},T.getLastTrackEventId=function(t){return t.data.history[t.data.history.length-1]},T.timeUpdate=function(t,e){var n,r,i,a,o,s=t.media.currentTime,u=t.data.trackEvents.previousUpdateTime,c=t.data.trackEvents,l=c.endIndex,d=c.startIndex,p=c.byStart.length,f=c.byEnd.length,h=T.registryByName,v="trackstart",g="trackend";if(s>=u){for(;c.byEnd[l]&&s>=c.byEnd[l].end;){if(n=c.byEnd[l],i=n._natives,a=i&&i.type,i&&!h[a]&&!t[a])return T.removeTrackEvent(t,n._id),void 0;n._running===!0&&(n._running=!1,o=t.data.running[a],o.splice(o.indexOf(n),1),t.data.disabled[a]||(i.end.call(t,e,n),t.emit(g,T.extend({},n,{plugin:a,type:g,track:n})))),l++}for(;c.byStart[d]&&s>=c.byStart[d].start;){if(r=c.byStart[d],i=r._natives,a=i&&i.type,i&&!h[a]&&!t[a])return T.removeTrackEvent(t,r._id),void 0;r.end>s&&r._running===!1&&(r._running=!0,t.data.running[a].push(r),t.data.disabled[a]||(i.start.call(t,e,r),t.emit(v,T.extend({},r,{plugin:a,type:v,track:r})))),d++}}else if(u>s){for(;c.byStart[d]&&c.byStart[d].start>s;){if(r=c.byStart[d],i=r._natives,a=i&&i.type,i&&!h[a]&&!t[a])return T.removeTrackEvent(t,r._id),void 0;r._running===!0&&(r._running=!1,o=t.data.running[a],o.splice(o.indexOf(r),1),t.data.disabled[a]||(i.end.call(t,e,r),t.emit(g,T.extend({},r,{plugin:a,type:g,track:r})))),d--}for(;c.byEnd[l]&&c.byEnd[l].end>s;){if(n=c.byEnd[l],i=n._natives,a=i&&i.type,i&&!h[a]&&!t[a])return T.removeTrackEvent(t,n._id),void 0;s>=n.start&&n._running===!1&&(n._running=!0,t.data.running[a].push(n),t.data.disabled[a]||(i.start.call(t,e,n),t.emit(v,T.extend({},n,{plugin:a,type:v,track:n})))),l--}}c.endIndex=l,c.startIndex=d,c.previousUpdateTime=s,p>c.byStart.length&&c.startIndex--,f>c.byEnd.length&&c.endIndex--},T.extend(T.p,{getTrackEvents:function(){return T.getTrackEvents.call(null,this)},getTrackEvent:function(t){return T.getTrackEvent.call(null,this,t)},getLastTrackEventId:function(){return T.getLastTrackEventId.call(null,this)},removeTrackEvent:function(t){return T.removeTrackEvent.call(null,this,t),this},removePlugin:function(t){return T.removePlugin.call(null,this,t),this},timeUpdate:function(t){return T.timeUpdate.call(null,this,t),this},destroy:function(){return T.destroy.call(null,this),this}}),T.manifest={},T.registry=[],T.registryByName={},T.plugin=function(t,e,n){if(T.protect.natives.indexOf(t.toLowerCase())>=0)return T.error("'"+t+"' is a protected function name"),void 0;var r="function"==typeof e,i=["start","end","type","manifest"],c=["_setup","_teardown","start","end","frame"],l={},d=function(t,e){return t=t||T.nop,e=e||T.nop,function(){t.apply(this,arguments),e.apply(this,arguments)}};T.manifest[t]=n=n||e.manifest||{},c.forEach(function(n){e[n]=u(e[n]||T.nop,t)});var h=function(e,r){if(!r)return this;if(r.ranges&&T.isArray(r.ranges))return T.forEach(r.ranges,function(e){var n=T.extend({},r,e);delete n.ranges,this[t](n)},this),this;var a,o=r._natives={},s="";return T.extend(o,e),r._natives.type=r._natives.plugin=t,r._running=!1,o.start=o.start||o["in"],o.end=o.end||o.out,r.once&&(o.end=d(o.end,function(){this.removeTrackEvent(r._id)})),o._teardown=d(function(){var t=p.call(arguments),e=this.data.running[o.type];t.unshift(null),t[1]._running&&e.splice(e.indexOf(r),1)&&o.end.apply(this,t),this.emit("trackend",T.extend({},r,{plugin:o.type,type:"trackend",track:T.getTrackEvent(this,r.id||r._id)}))},o._teardown),o._teardown=d(o._teardown,function(){this.emit("trackteardown",T.extend({},r,{plugin:t,type:"trackteardown",track:T.getTrackEvent(this,r.id||r._id)}))}),r.compose=r.compose||[],"string"==typeof r.compose&&(r.compose=r.compose.split(" ")),r.effect=r.effect||[],"string"==typeof r.effect&&(r.effect=r.effect.split(" ")),r.compose=r.compose.concat(r.effect),r.compose.forEach(function(t){s=T.compositions[t]||{},c.forEach(function(t){o[t]=d(o[t],s[t])})}),r._natives.manifest=n,"start"in r||(r.start=r["in"]||0),r.end||0===r.end||(r.end=r.out||Number.MAX_VALUE),f.call(r,"toString")||(r.toString=function(){var e=["start: "+r.start,"end: "+r.end,"id: "+(r.id||r._id)];return null!=r.target&&e.push("target: "+r.target),t+" ( "+e.join(", ")+" )"}),r.target||(a="options"in n&&n.options,r.target=a&&"target"in a&&a.target),!r._id&&r._natives&&(r._id=T.guid(r._natives.type)),T.addTrackEvent(this,r),T.forEach(e,function(t,e){-1===i.indexOf(e)&&this.on(e,t)},this),this};T.p[t]=l[t]=function(n,i){var u,c,l,d,p;if(arguments.length,n&&!i)i=n,n=null;else{if(u=this.getTrackEvent(n))return p=i,d=s(u,p),u._natives._update?(o(this,u._id),f.call(i,"start")&&(u.start=i.start),f.call(i,"end")&&(u.end=i.end),r&&e.call(this,u),u._natives._update.call(this,u,i),a(this,u),"cue"!==u._natives.type&&this.emit("trackchange",{id:u.id,type:"trackchange",previousValue:d,currentValue:p,track:u}),this):(T.extend(u,i),T.removeTrackEvent(this,n,{previous:d}),r?h.call(this,e.call(this,u),u):T.addTrackEvent(this,u),this.emit("trackchange",{id:u.id,type:"trackchange",previousValue:d,currentValue:u,track:u}),this);i.id=n}return this.data.running[t]=this.data.running[t]||[],c=this.options.defaults&&this.options.defaults[t]||{},l=T.extend({},c,i),h.call(this,r?e.call(this,l):e,l),this},n&&T.extend(e,{manifest:n});var v={fn:l[t],definition:e,base:e,parents:[],name:t};return T.registry.push(T.extend(l,v,{type:t})),T.registryByName[t]=v,l},T.plugin.errors=[],T.plugin.debug="@VERSION"===T.version,T.removePlugin=function(t,e){if(!e){if(e=t,t=T.p,T.protect.natives.indexOf(e.toLowerCase())>=0)return T.error("'"+e+"' is a protected function name"),void 0;var n,r=T.registry.length;for(n=0;r>n;n++)if(T.registry[n].name===e)return T.registry.splice(n,1),delete T.registryByName[e],delete T.manifest[e],delete t[e],void 0}var i,a,o=t.data.trackEvents.byStart,s=t.data.trackEvents.byEnd,u=t.data.trackEvents.animating;for(i=0,a=o.length;a>i;i++)o[i]&&o[i]._natives&&o[i]._natives.type===e&&(o[i]._natives._teardown&&o[i]._natives._teardown.call(t,o[i]),o.splice(i,1),i--,a--,i>=t.data.trackEvents.startIndex&&(t.data.trackEvents.startIndex--,t.data.trackEvents.endIndex--)),s[i]&&s[i]._natives&&s[i]._natives.type===e&&s.splice(i,1);for(i=0,a=u.length;a>i;i++)u[i]&&u[i]._natives&&u[i]._natives.type===e&&(u.splice(i,1),i--,a--)},T.compositions={},T.compose=function(t,e,n){T.manifest[t]=n=n||e.manifest||{},T.compositions[t]=e},T.plugin.effect=T.effect=T.compose;var S=/^(?:\.|#|\[)/;T.dom={debug:!1,find:function(t,n){var r=null;if(n=n||e,t){if(!S.test(t)&&(r=e.getElementById(t),null!==r))return r;try{r=n.querySelector(t)}catch(i){if(T.dom.debug)throw Error(i)}}return r}};var k=/\?/,x={url:"",data:"",dataType:"",success:T.nop,type:"GET",async:!0,xhr:function(){return new t.XMLHttpRequest}};T.xhr=function(t){if(t.dataType=t.dataType&&t.dataType.toLowerCase()||null,t.dataType&&("jsonp"===t.dataType||"script"===t.dataType))return T.xhr.getJSONP(t.url,t.success,"script"===t.dataType),void 0;var e=T.extend({},x,t);return e.ajax=e.xhr(),e.ajax?("GET"===e.type&&e.data&&(e.url+=(k.test(e.url)?"&":"?")+e.data,e.data=null),e.ajax.open(e.type,e.url,e.async),e.ajax.send(e.data||null),T.xhr.httpData(e)):void 0},T.xhr.httpData=function(t){var e,n,r=null,i=null;return t.ajax.onreadystatechange=function(){if(4===t.ajax.readyState){try{r=JSON.parse(t.ajax.responseText)}catch(a){}if(e={xml:t.ajax.responseXML,text:t.ajax.responseText,json:r},!e.xml||!e.xml.documentElement){e.xml=null;try{n=new DOMParser,i=n.parseFromString(t.ajax.responseText,"text/xml"),i.getElementsByTagName("parsererror").length||(e.xml=i)}catch(a){}}t.dataType&&(e=e[t.dataType]),t.success.call(t.ajax,e)}},e},T.xhr.getJSONP=function(t,n,r){var i,a,o,s=e.head||e.getElementsByTagName("head")[0]||e.documentElement,u=e.createElement("script"),c=!1,l=[],d=/(=)\?(?=&|$)|\?\?/;r||(o=t.match(/(callback=[^&]*)/),null!==o&&o.length?(i=o[1].split("=")[1],"?"===i&&(i="jsonp"),a=T.guid(i),t=t.replace(/(callback=[^&]*)/,"callback="+a)):(a=T.guid("jsonp"),d.test(t)&&(t=t.replace(d,"$1"+a)),l=t.split(/\?(.+)?/),t=l[0]+"?",l[1]&&(t+=l[1]+"&"),t+="callback="+a),window[a]=function(t){n&&n(t),c=!0}),u.addEventListener("load",function(){r&&n&&n(),c&&delete window[a],s.removeChild(u)},!1),u.src=t,s.insertBefore(u,s.firstChild)},T.getJSONP=T.xhr.getJSONP,T.getScript=T.xhr.getScript=function(t,e){return T.xhr.getJSONP(t,e,!0)},T.util={toSeconds:function(t,e){var n,r,i,a,o,s,u=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,c="Invalid time format";return"number"==typeof t?t:("string"!=typeof t||u.test(t)||T.error(c),n=t.split(":"),r=n.length-1,i=n[r],i.indexOf(";")>-1&&(o=i.split(";"),s=0,e&&"number"==typeof e&&(s=parseFloat(o[1],10)/e),n[r]=parseInt(o[0],10)+s),a=n[0],{1:parseFloat(a,10),2:60*parseInt(a,10)+parseFloat(n[1],10),3:3600*parseInt(a,10)+60*parseInt(n[1],10)+parseFloat(n[2],10)}[n.length||1])}},T.p.cue=T.p.exec,T.protect={natives:_(T.p).map(function(t){return t.toLowerCase()})},T.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(t,e){var n=T.p[e];T.p[e]=function(){return"undefined"!=typeof console&&console.warn&&(console.warn("Deprecated method '"+e+"', "+(null==t?"do not use.":"use '"+t+"' instead.")),T.p[e]=n),T.p[t].apply(this,[].slice.call(arguments))
}}),t.Popcorn=T}else{t.Popcorn={isSupported:!1};for(var P="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);P.length;)t.Popcorn[P.shift()]=function(){}}}(window,window.document),define("popcorn/popcorn",function(t){return function(){var e;return e||t.Popcorn}}(this)),function(t,e){function n(t){var e="string"==typeof t?t:[t.language,t.region].join("-"),n=e.split("-");return{iso6391:e,language:n[0]||"",region:n[1]||""}}var r=t.navigator,i=n(r.userLanguage||r.language);e.locale={get:function(){return i},set:function(t){return i=n(t),e.locale.broadcast(),i},broadcast:function(t){var n,r=e.instances,i=r.length,a=0;for(t=t||"locale:changed";i>a;a++)n=r[a],t in n.data.events&&n.trigger(t)}}}(this,this.Popcorn),function(t){var e=Array.prototype,n=Object.prototype,r=(e.forEach,e.slice,n.hasOwnProperty);n.toString,t.parsers={},t.parser=function(e,n,i){if(t.protect.natives.indexOf(e.toLowerCase())>=0)return t.error("'"+e+"' is a protected function name"),void 0;if("function"!=typeof n||i||(i=n,n=""),"function"==typeof i&&"string"==typeof n){var a,o=(t.events.all,{});return a=function(e,a){if(!e)return this;var o=this;return t.xhr({url:e,dataType:n,success:function(t){var e,n,s,u=i(t),c=0;if(e=u.data||[],n=e.length,s=null,n){for(;n>c;c++){s=e[c];for(var l in s)r.call(s,l)&&o[l]&&o[l](s[l])}a&&a()}}}),this},o[e]=a,t.extend(t.p,o),o}}}(Popcorn),function(t){var e=function(e,n){return e=e||t.nop,n=n||t.nop,function(){e.apply(this,arguments),n.apply(this,arguments)}};t.player=function(n,r){if(!t[n]){r=r||{};var i=function(n,i,a){a=a||{};var o,s,u=new Date/1e3,c=u,l=0,d=0,p=1,f=!1,h={},v="string"==typeof n?t.dom.find(n):n,g={};Object.prototype.__defineGetter__||(g=v||document.createElement("div"));for(var m in v)m in g||("object"==typeof v[m]?g[m]=v[m]:"function"==typeof v[m]?g[m]=function(t){return"length"in v[t]&&!v[t].call?v[t]:function(){return v[t].apply(v,arguments)}}(m):t.player.defineProperty(g,m,{get:function(t){return function(){return v[t]}}(m),set:t.nop,configurable:!0}));var y=function(){u=new Date/1e3,g.paused||(g.currentTime=g.currentTime+(u-c),g.dispatchEvent("timeupdate"),o=setTimeout(y,10)),c=u};return g.play=function(){this.paused=!1,g.readyState>=4&&(c=new Date/1e3,g.dispatchEvent("play"),y())},g.pause=function(){this.paused=!0,g.dispatchEvent("pause")},t.player.defineProperty(g,"currentTime",{get:function(){return l},set:function(t){return l=+t,g.dispatchEvent("timeupdate"),l},configurable:!0}),t.player.defineProperty(g,"volume",{get:function(){return p},set:function(t){return p=+t,g.dispatchEvent("volumechange"),p},configurable:!0}),t.player.defineProperty(g,"muted",{get:function(){return f},set:function(t){return f=+t,g.dispatchEvent("volumechange"),f},configurable:!0}),t.player.defineProperty(g,"readyState",{get:function(){return d},set:function(t){return d=t},configurable:!0}),g.addEventListener=function(t,e){return h[t]||(h[t]=[]),h[t].push(e),e},g.removeEventListener=function(t,e){var n,r=h[t];if(r){for(n=h[t].length-1;n>=0;n--)e===r[n]&&r.splice(n,1);return e}},g.dispatchEvent=function(e){var n,r,i=this,a=e.type;if(a||(a=e,r=t.events.getInterface(a),r&&(n=document.createEvent(r),n.initEvent(a,!0,!0,window,1))),h[a])for(var o=h[a].length-1;o>=0;o--)h[a][o].call(i,n,i)},g.src=i||"",g.duration=0,g.paused=!0,g.ended=0,a&&a.events&&t.forEach(a.events,function(t,e){g.addEventListener(e,t,!1)}),r._canPlayType(v.nodeName,i)!==!1?r._setup?r._setup.call(g,a):(g.readyState=4,g.dispatchEvent("loadedmetadata"),g.dispatchEvent("loadeddata"),g.dispatchEvent("canplaythrough")):setTimeout(function(){g.dispatchEvent("error")},0),s=new t.p.init(g,a),r._teardown&&(s.destroy=e(s.destroy,function(){r._teardown.call(g,a)})),s};i.canPlayType=r._canPlayType=r._canPlayType||t.nop,t[n]=t.player.registry[n]=i}},t.player.registry={},t.player.defineProperty=Object.defineProperty||function(e,n,r){e.__defineGetter__(n,r.get||t.nop),e.__defineSetter__(n,r.set||t.nop)},t.player.playerQueue=function(){var t=[],e=!1;return{next:function(){e=!1,t.shift(),t[0]&&t[0]()},add:function(n){t.push(function(){e=!0,n&&n()}),!e&&t[0]()}}},t.smart=function(e,n,r){var i,a,o,s,u,c,l,d="string"==typeof e?t.dom.find(e):e,p="HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(!d)return t.error("Specified target `"+e+"` was not found."),void 0;for(n="string"==typeof n?[n]:n,i=0,l=n.length;l>i;i++){for(a=n[i],o=0;p.length>o;o++)if(u=t[p[o]],u&&"probably"===u._canPlaySrc(a))return s=u(d,r),c=t(s,r),setTimeout(function(){s.src=a},0),c;for(var f in t.player.registry)if(t.player.registry.hasOwnProperty(f)&&t.player.registry[f].canPlayType(d.nodeName,a))return t[f](d,a,r)}var h,v=t.guid("popcorn-video-");for(h='<video id="'+v+'" preload=auto autobuffer>',i=0,l=n.length;l>i;i++)h+='<source src="'+n[i]+'">';return h+="</video>",d.innerHTML=h,r&&r.events&&r.events.error&&d.addEventListener("error",r.events.error,!1),t("#"+v,r)}}(Popcorn),function(t,e){var n=t.document,r=t.location,i=/:\/\//,a=r.href.replace(r.href.split("/").slice(-1)[0],""),o=function(t,e,n){t=t||0,e=(e||t||0)+1,n=n||1;var r=Math.ceil((e-t)/n)||0,i=0,a=[];for(a.length=r;r>i;)a[i++]=t,t+=n;return a};e.sequence=function(t,n){return new e.sequence.init(t,n)},e.sequence.init=function(t,r){this.parent=n.getElementById(t),this.seqId=e.guid("__sequenced"),this.queue=[],this.playlist=[],this.inOuts={ofVideos:[],ofClips:[]},this.dims={width:0,height:0},this.active=0,this.cycling=!1,this.playing=!1,this.times={last:0},this.events={};var o=this,s=0;return e.forEach(r,function(r,s){var u=n.createElement("video");u.preload="auto",u.controls=!0,u.style.display=s&&"none"||"",u.id=o.seqId+"-"+s,o.queue.push(u);var c=r["in"],l=r.out;o.inOuts.ofVideos.push({"in":void 0!==c&&c||1,out:void 0!==l&&l||0}),o.inOuts.ofVideos[s].out=o.inOuts.ofVideos[s].out||o.inOuts.ofVideos[s]["in"]+2,u.src=i.test(r.src)?r.src:a+r.src,u.setAttribute("data-sequence-owner",t),u.setAttribute("data-sequence-guid",o.seqId),u.setAttribute("data-sequence-id",s),u.setAttribute("data-sequence-clip",[o.inOuts.ofVideos[s]["in"],o.inOuts.ofVideos[s].out].join(":")),o.parent.appendChild(u),o.playlist.push(e("#"+u.id))}),o.inOuts.ofVideos.forEach(function(t){var e=t.out-t["in"],n={"in":s,out:s+e};o.inOuts.ofClips.push(n),s=n.out+1}),e.forEach(this.queue,function(t,n){function r(){return n||(o.dims.width=t.videoWidth,o.dims.height=t.videoHeight),t.currentTime=o.inOuts.ofVideos[n]["in"]-.5,t.removeEventListener("canplaythrough",r,!1),!0}t.addEventListener("canplaythrough",r,!1),t.addEventListener("play",function(){o.playing=!0},!1),t.addEventListener("pause",function(){o.playing=!1},!1),t.addEventListener("timeupdate",function(n){var r=n.srcElement||n.target,i=+(r.dataset&&r.dataset.sequenceId||r.getAttribute("data-sequence-id")),a=Math.floor(t.currentTime);o.times.last!==a&&i===o.active&&(o.times.last=a,a===o.inOuts.ofVideos[i].out&&e.sequence.cycle.call(o,i))},!1)}),this},e.sequence.init.prototype=e.sequence.prototype,e.sequence.cycle=function(t){this.queue||e.error("Popcorn.sequence.cycle is not a public method");var n,r,i,a,o=this.queue,s=this.inOuts.ofVideos,u=o[t],c=0;return o[t+1]&&(c=t+1),o[t+1]?(n=o[c],r=s[c],e.extend(n,{width:this.dims.width,height:this.dims.height}),i=this.playlist[c],a=this.playlist[t],u.pause(),this.active=c,this.times.last=r["in"]-1,i.currentTime(r["in"]),i[c?"play":"pause"](),this.trigger("cycle",{position:{previous:t,current:c}}),c&&(u.style.display="none",n.style.display=""),this.cycling=!1):(c=0,this.playlist[t].pause()),this};var s=["timeupdate","play","pause"];e.extend(e.sequence.prototype,{eq:function(t){return this.playlist[t]},remove:function(){this.parent.innerHTML=null},clip:function(t){return this.inOuts.ofVideos[t]},duration:function(){for(var t=0,e=this.inOuts.ofClips,n=0;e.length>n;n++)t+=e[n].out-e[n]["in"]+1;return t-1},play:function(){return this.playlist[this.active].play(),this},exec:function(t,n){var r=this.active;return this.inOuts.ofClips.forEach(function(e,n){t>=e["in"]&&e.out>=t&&(r=n)}),t+=this.inOuts.ofVideos[r]["in"]-this.inOuts.ofClips[r]["in"],e.addTrackEvent(this.playlist[r],{start:t-1,end:t,_running:!1,_natives:{start:n||e.nop,end:e.nop,type:"exec"}}),this},listen:function(t,n){var r,i=this,a=this.playlist,o=a.length,u=0;return n||(n=e.nop),e.Events.Natives.indexOf(t)>-1?e.forEach(a,function(e){e.listen(t,function(r){r.active=i,s.indexOf(t)>-1?n.call(e,r):++u===o&&n.call(e,r)})}):(this.events[t]||(this.events[t]={}),r=n.name||e.guid("__"+t),this.events[t][r]=n),this},unlisten:function(){},trigger:function(t,n){var r=this;if(!(e.Events.Natives.indexOf(t)>-1))return this.events[t]&&e.forEach(this.events[t],function(e){e.call(r,{type:t},n)}),this}}),e.forEach(e.manifest,function(t,n){e.sequence.prototype[n]=function(t){var r,i,a,s,u,c,l,d,p,f={},h=[];for(r=0;this.inOuts.ofClips.length>r;r++)i=this.inOuts.ofClips[r],a=o(i["in"],i.out),s=a.indexOf(t.start),u=a.indexOf(t.end),s>-1&&(f[r]=e.extend({},i,{start:a[s],clipIdx:s})),u>-1&&(f[r]=e.extend({},i,{end:a[u],clipIdx:u}));for(c=Object.keys(f).map(function(t){return+t}),h=o(c[0],c[1]),r=0;h.length>r;r++){var v={},g=h[r],m=f[g];m?(l=this.inOuts.ofVideos[g],d=m.clipIdx,p=o(l["in"],l.out),m.start&&(v.start=p[d],v.end=p[p.length-1]),m.end&&(v.start=p[0],v.end=p[d])):(v.start=this.inOuts.ofVideos[g]["in"],v.end=this.inOuts.ofVideos[g].out),this.playlist[g][n](e.extend({},t,v))}return this}})}(this,Popcorn),function(t){document.addEventListener("DOMContentLoaded",function(){var e="data-timeline-sources",n=document.querySelectorAll("["+e+"]");t.forEach(n,function(r,i){var a,o,s,u=n[i];u.id||(u.id=t.guid("__popcorn")),u.nodeType&&1===u.nodeType&&(s=t("#"+u.id),a=(u.getAttribute(e)||"").split(","),a[0]&&t.forEach(a,function(t){o=t.split("!"),1===o.length&&(o=t.match(/(.*)[\/\\]([^\/\\]+\.\w+)$/)[2].split("."),o[0]="parse"+o[1].toUpperCase(),o[1]=t),a[0]&&s[o[0]]&&s[o[0]](o[1])}),s.autoplay()&&s.play())})},!1)}(Popcorn),define("popcorn/popcorn.modules",["popcorn/popcorn"],function(t){return function(){var e;return e||t.Popcorn}}(this)),function(t,e){function n(t){for(var e=n.options,r=e.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[e.key[a]]=r[a]||"";return i[e.q.name]={},i[e.key[12]].replace(e.q.parser,function(t,n,r){n&&(i[e.q.name][n]=r)}),i}function r(){}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i={length:0,start:t.nop,end:t.nop};MediaError=MediaError||function(){function t(t,e){this.code=t||null,this.message=e||""}return t.MEDIA_ERR_NONE_ACTIVE=0,t.MEDIA_ERR_ABORTED=1,t.MEDIA_ERR_NETWORK=2,t.MEDIA_ERR_DECODE=3,t.MEDIA_ERR_NONE_SUPPORTED=4,t}(),r.prototype={_util:{type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(t){return"string"==typeof t||t===!0},parseUri:n},addEventListener:function(t,n,r){e.addEventListener(this._eventNamespace+t,n,r)},removeEventListener:function(t,n,r){e.removeEventListener(this._eventNamespace+t,n,r)},dispatchEvent:function(t){var n=e.createEvent("CustomEvent"),r={type:t,target:this.parentNode,data:null};n.initCustomEvent(this._eventNamespace+t,!1,!1,r),e.dispatchEvent(n)},load:t.nop,canPlayType:function(){return""},getBoundingClientRect:function(){return this.parentNode.getBoundingClientRect()},NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3,HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},r.prototype.constructor=r,Object.defineProperties(r.prototype,{currentSrc:{get:function(){return void 0!==this.src?this.src:""}},preload:{get:function(){return"auto"},set:t.nop},controls:{get:function(){return!0},set:t.nop},poster:{get:function(){return""},set:t.nop},crossorigin:{get:function(){return""}},played:{get:function(){return i}},seekable:{get:function(){return i}},buffered:{get:function(){return i}},defaultMuted:{get:function(){return!1}},defaultPlaybackRate:{get:function(){return 1}}}),t._MediaElementProto=r}(Popcorn,window.document),function(t,e){function n(){return"maybe"}function r(t,r){var i="string"==typeof t?e.querySelector(t):t,a=e.createElement(r);return i.appendChild(a),a._canPlaySrc=n,a}t.HTMLVideoElement=function(t){return r(t,"video")},t.HTMLVideoElement._canPlaySrc=n,t.HTMLAudioElement=function(t){return r(t,"audio")},t.HTMLAudioElement._canPlaySrc=n}(Popcorn,window.document),function(t,e){function n(e){this.currentTime=e.currentTime||0,this.duration=e.duration||0/0,this.playInterval=null,this.ended=e.endedCallback||t.nop}function r(t){t.currentTime+o>=t.duration?(t.currentTime=t.duration,t.pause(),t.ended()):t.currentTime+=o}function i(r){function i(t){N.unshift(t)}function a(){O=!0,A.networkState=x.NETWORK_IDLE,A.readyState=x.HAVE_METADATA,x.dispatchEvent("loadedmetadata"),x.dispatchEvent("loadeddata"),A.readyState=x.HAVE_FUTURE_DATA,x.dispatchEvent("canplay"),A.readyState=x.HAVE_ENOUGH_DATA,x.dispatchEvent("canplaythrough");for(var t=N.length;t--;)N[t](),delete N[t];A.autoplay&&x.play()}function o(){return S?S.duration:0/0}function c(){O&&S&&(S.pause(),S=null,P.removeChild(T),T=null)}function l(t){if(!x._canPlaySrc(t))return A.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},x.dispatchEvent("error"),void 0;A.src=t,O&&c(),T=e.createElement("div"),T.width=A.width,T.height=A.height,P.appendChild(T);var r=u.exec(t),i=r[1],o=r[2];S=new n({currentTime:i,duration:o,endedCallback:y}),x.dispatchEvent("loadstart"),x.dispatchEvent("progress"),x.dispatchEvent("durationchange"),a()}function d(){return O?S.currentTime:0}function p(t){return O?(h(),S.seekTo(t),v(),void 0):(i(function(){p(t)}),void 0)}function f(){x.dispatchEvent("timeupdate")}function h(){A.seeking=!0,x.dispatchEvent("seeking")}function v(){A.seeking=!1,x.dispatchEvent("timeupdate"),x.dispatchEvent("seeked"),x.dispatchEvent("canplay"),x.dispatchEvent("canplaythrough")}function g(){1===A.paused?(A.paused=!1,x.dispatchEvent("play"),x.dispatchEvent("playing")):(A.ended&&p(0),A.paused&&(A.paused=!1,A.loop||x.dispatchEvent("play"),x.dispatchEvent("playing"))),k=setInterval(f,x._util.TIMEUPDATE_MS)}function m(){A.paused=!0,clearInterval(k),x.dispatchEvent("pause")}function y(){A.loop?(p(0),x.play()):(A.ended=!0,clearInterval(k),x.dispatchEvent("timeupdate"),x.dispatchEvent("ended"))}function E(t){A.volume=t,x.dispatchEvent("volumechange")}function b(){return A.volume}function _(t){A.muted=t,x.dispatchEvent("volumechange")}function w(){return A.muted}var T,S,k,x=this,P="string"==typeof r?e.querySelector(r):r,O=!1,A={src:s,networkState:x.NETWORK_EMPTY,readyState:x.HAVE_NOTHING,autoplay:s,preload:s,controls:s,loop:!1,poster:s,volume:1,muted:!1,width:0|P.width?P.width:x._util.MIN_WIDTH,height:0|P.height?P.height:x._util.MIN_HEIGHT,seeking:!1,ended:!1,paused:1,error:null},N=[];x._eventNamespace=t.guid("HTMLNullVideoElement::"),x.parentNode=P,x._util.type="NullVideo",x.play=function(){return O?(S.play(),g(),void 0):(i(function(){x.play()}),void 0)},x.pause=function(){return O?(S.pause(),m(),void 0):(i(function(){x.pause()}),void 0)},Object.defineProperties(x,{src:{get:function(){return A.src},set:function(t){t&&t!==A.src&&l(t)}},autoplay:{get:function(){return A.autoplay},set:function(t){A.autoplay=x._util.isAttributeSet(t)}},loop:{get:function(){return A.loop},set:function(t){A.loop=x._util.isAttributeSet(t)}},width:{get:function(){return T.width},set:function(t){A.width=t}},height:{get:function(){return T.height},set:function(t){A.height=t}},currentTime:{get:function(){return d()},set:function(t){p(t)}},duration:{get:function(){return o()}},ended:{get:function(){return A.ended}},paused:{get:function(){return A.paused}},seeking:{get:function(){return A.seeking}},readyState:{get:function(){return A.readyState}},networkState:{get:function(){return A.networkState}},volume:{get:function(){return b()},set:function(t){if(0>t||t>1)throw"Volume value must be between 0.0 and 1.0";E(t)}},muted:{get:function(){return w()},set:function(t){_(x._util.isAttributeSet(t))}},error:{get:function(){return A.error}}})}var a=16,o=a/1e3,s="",u=/#t=(\d+)?,?(\d+)?/;n.prototype={play:function(){var t=this;this.playInterval=setInterval(function(){r(t)},a)},pause:function(){clearInterval(this.playInterval)},seekTo:function(t){t=0>t?0:t,t=t>this.duration?this.duration:t,this.currentTime=t}},i.prototype=new t._MediaElementProto,i.prototype.constructor=i,i.prototype._canPlaySrc=function(t){return/#t=\d*,?\d+?/.test(t)?"probably":s},i.prototype.canPlayType=function(t){return"video/x-nullvideo"===t?"probably":s},t.HTMLNullVideoElement=function(t){return new i(t)},t.HTMLNullVideoElement._canPlaySrc=i.prototype._canPlaySrc}(Popcorn,document),function(t,e,n){function r(){return c||(t.getScript("//w.soundcloud.com/player/api.js",function(){t.getScript("//connect.soundcloud.com/sdk.js",function(){u=!0,SC.initialize({client_id:"PRaNFlda6Bhf5utPjUsptg"});for(var t=l.length;t--;)l[t](),delete l[t]})}),c=!0),u}function i(t){l.unshift(t)}function a(a){function u(t){L.unshift(t)}function c(){N.bind(SC.Widget.Events.LOAD_PROGRESS,function(t){_({type:"loadProgress",data:t.currentPosition/1e3})}),N.bind(SC.Widget.Events.PLAY_PROGRESS,function(t){_({type:"playProgress",data:t.currentPosition/1e3})}),N.bind(SC.Widget.Events.PLAY,function(){_({type:"play"})}),N.bind(SC.Widget.Events.PAUSE,function(){_({type:"pause"})}),N.bind(SC.Widget.Events.SEEK,function(t){_({type:"seek",data:t.currentPosition/1e3})}),N.bind(SC.Widget.Events.FINISH,function(){_({type:"finish"})}),V=!0,N.getDuration(d),O(C.controls)}function l(){N.bind(SC.Widget.Events.LOAD_PROGRESS,function(t){t.loadedProgress>0&&(N.unbind(SC.Widget.Events.LOAD_PROGRESS),N.pause())}),N.bind(SC.Widget.Events.PLAY,function(){N.unbind(SC.Widget.Events.PLAY),N.bind(SC.Widget.Events.PAUSE,function(){N.unbind(SC.Widget.Events.PAUSE),N.setVolume(100),c()})}),N.setVolume(0),N.play()}function d(t){t/=1e3;var e=C.duration;if(e!==t&&(C.duration=t,M.dispatchEvent("durationchange"),isNaN(e))){C.networkState=M.NETWORK_IDLE,C.readyState=M.HAVE_METADATA,M.dispatchEvent("loadedmetadata"),M.dispatchEvent("loadeddata"),C.readyState=M.HAVE_FUTURE_DATA,M.dispatchEvent("canplay"),C.readyState=M.HAVE_ENOUGH_DATA,M.dispatchEvent("canplaythrough");for(var n=L.length;n--;)L[n](),delete L[n];C.paused&&C.autoplay&&M.play()}}function p(){V&&N&&(clearInterval(j),N.pause(),N.unbind(SC.Widget.Events.READY),N.unbind(SC.Widget.Events.LOAD_PROGRESS),N.unbind(SC.Widget.Events.PLAY_PROGRESS),N.unbind(SC.Widget.Events.PLAY),N.unbind(SC.Widget.Events.PAUSE),N.unbind(SC.Widget.Events.SEEK),N.unbind(SC.Widget.Events.FINISH),R.removeChild(A),A=null)}function f(t){return V?(t=1e3*t,h(),N.seekTo(t),void 0):(u(function(){f(t)}),void 0)}function h(){C.seeking=!0,M.dispatchEvent("seeking")}function v(){C.ended=!1,C.seeking=!1,M.dispatchEvent("timeupdate"),M.dispatchEvent("seeked"),M.dispatchEvent("canplay"),M.dispatchEvent("canplaythrough")}function g(){C.paused=!0,clearInterval(I),M.dispatchEvent("pause")}function m(){M.dispatchEvent("timeupdate")}function y(){j||(j=setInterval(w,o),C.loop&&M.dispatchEvent("play")),I=setInterval(m,M._util.TIMEUPDATE_MS),C.paused&&(C.paused=!1,C.loop||M.dispatchEvent("play"),M.dispatchEvent("playing"))}function E(){C.loop?(f(0),M.play()):(M.pause(),g(),C.ended=!0,M.dispatchEvent("ended"))}function b(t){C.currentTime=t,t!==D&&M.dispatchEvent("timeupdate"),D=t}function _(t){switch(t.type){case"loadProgress":M.dispatchEvent("progress");break;case"playProgress":b(t.data);break;case"play":y();break;case"pause":g();break;case"finish":E();break;case"seek":b(t.data),v()}}function w(){C.ended||N.getPosition(function(t){b(t/1e3)})}function T(e){return M._canPlaySrc(e)?(C.src=e,V&&p(),r()?(V=!1,SC.get("/resolve",{url:e},function(e){A=n.createElement("iframe"),A.id=t.guid("soundcloud-"),A.width=C.width,A.height=C.height,A.frameBorder=0,A.webkitAllowFullScreen=!0,A.mozAllowFullScreen=!0,A.allowFullScreen=!0,O(C.controls),R.appendChild(A),A.onload=function(){A.onload=null,N=SC.Widget(A),N.bind(SC.Widget.Events.READY,l),C.networkState=M.NETWORK_LOADING,M.dispatchEvent("loadstart"),M.dispatchEvent("progress")},A.src="http://w.soundcloud.com/player/?url="+e.uri+"&show_artwork=false"+"&buying=false"+"&liking=false"+"&sharing=false"+"&download=false"+"&show_comments=false"+"&show_user=false"}),void 0):(i(function(){T(e)}),void 0)):(C.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},M.dispatchEvent("error"),void 0)}function S(t){return C.volume=t,V?(N.setVolume(t),M.dispatchEvent("volumechange"),void 0):(u(function(){S(t)}),void 0)}function k(){return C.muted>0?C.muted:C.volume}function x(t){return V?(t?(C.muted=C.volume,S(0)):(C.muted=0,S(C.muted)),void 0):(C.muted=t?1:0,u(function(){x(t)}),void 0)}function P(){return C.muted>0}function O(t){A&&(V?(A.style.position="absolute",A.style.visibility=t?"visible":"hidden"):(A.style.opacity=t?"1":"0",A.style.pointerEvents=t?"auto":"none")),C.controls=t}if(!e.postMessage)throw"ERROR: HTMLSoundCloudAudioElement requires window.postMessage";var A,N,I,j,M=this,R="string"==typeof a?t.dom.find(a):a,C={src:s,networkState:M.NETWORK_EMPTY,readyState:M.HAVE_NOTHING,seeking:!1,autoplay:s,preload:s,controls:!0,loop:!1,poster:s,volume:100,muted:0,currentTime:0,duration:0/0,ended:!1,paused:!0,width:0|R.width?R.width:940,height:0|R.height?R.height:160,error:null},V=!1,L=[],D=0;M._eventNamespace=t.guid("HTMLSoundCloudAudioElement::"),M.parentNode=R,M._util.type="SoundCloud",M.play=function(){return V?(C.ended&&f(0),N.play(),void 0):(u(function(){M.play()}),void 0)},M.pause=function(){return V?(N.pause(),void 0):(u(function(){M.pause()}),void 0)},Object.defineProperties(M,{src:{get:function(){return C.src},set:function(t){t&&t!==C.src&&T(t)}},autoplay:{get:function(){return C.autoplay},set:function(t){C.autoplay=M._util.isAttributeSet(t)}},loop:{get:function(){return C.loop},set:function(t){C.loop=M._util.isAttributeSet(t)}},width:{get:function(){return A.width},set:function(t){C.width=t}},height:{get:function(){return A.height},set:function(t){C.height=t}},currentTime:{get:function(){return C.currentTime},set:function(t){f(t)}},duration:{get:function(){return C.duration}},ended:{get:function(){return C.ended}},paused:{get:function(){return C.paused}},seeking:{get:function(){return C.seeking}},readyState:{get:function(){return C.readyState}},networkState:{get:function(){return C.networkState}},volume:{get:function(){var t=k();return t/100},set:function(t){if(0>t||t>1)throw"Volume value must be between 0.0 and 1.0";t=100*t,S(t)}},muted:{get:function(){return P()},set:function(t){x(M._util.isAttributeSet(t))}},error:{get:function(){return C.error}},controls:{get:function(){return C.controls},set:function(t){O(!!t)}}})}var o=16,s="",u=!1,c=!1,l=[];a.prototype=new t._MediaElementProto,a.prototype._canPlaySrc=function(t){return/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(soundcloud)/.test(t)?"probably":s},a.prototype.canPlayType=function(t){return"audio/x-soundcloud"===t?"probably":s},t.HTMLSoundCloudAudioElement=function(t){return new a(t)},t.HTMLSoundCloudAudioElement._canPlaySrc=a.prototype._canPlaySrc}(Popcorn,window,document),function(t,e,n){function r(t){function n(e,n){var r=JSON.stringify({method:e,value:n});t.contentWindow&&t.contentWindow.postMessage(r,i)}var r=this,i=t.src.split("?")[0];"//"===i.substr(0,2)&&(i=e.location.protocol+i);var a="play pause paused seekTo unload getCurrentTime getDuration getVideoEmbedCode getVideoHeight getVideoWidth getVideoUrl getColor setColor setLoop getVolume setVolume addEventListener".split(" ");a.forEach(function(t){r[t]=function(e){n(t,e)}})}function i(i,c){function l(t){$.unshift(t)}function d(){j.addEventListener("loadProgress"),j.addEventListener("playProgress"),j.addEventListener("play"),j.addEventListener("pause"),j.addEventListener("finish"),j.addEventListener("seek"),j.getDuration(),L.networkState=C.NETWORK_LOADING,C.dispatchEvent("loadstart"),C.dispatchEvent("progress")}function p(t){var e=L.duration;if(e!==t&&(L.duration=t,C.dispatchEvent("durationchange"),isNaN(e))){L.networkState=C.NETWORK_IDLE,L.readyState=C.HAVE_METADATA,C.dispatchEvent("loadedmetadata"),C.dispatchEvent("loadeddata"),L.readyState=C.HAVE_FUTURE_DATA,C.dispatchEvent("canplay"),L.readyState=C.HAVE_ENOUGH_DATA,C.dispatchEvent("canplaythrough"),L.autoplay&&C.play();for(var n=$.length;n--;)$[n](),delete $[n]}}function f(){D&&j&&(clearInterval(R),j.pause(),e.removeEventListener("message",T,!1),V.removeChild(I),I=null)}function h(t){return D?(v(),j.seekTo(t),void 0):(l(function(){h(t)}),void 0)}function v(){L.seeking=!0,C.dispatchEvent("seeking")}function g(){L.seeking=!1,C.dispatchEvent("timeupdate"),C.dispatchEvent("seeked"),C.dispatchEvent("canplay"),C.dispatchEvent("canplaythrough")}function m(){L.paused=!0,clearInterval(M),C.dispatchEvent("pause")}function y(){C.dispatchEvent("timeupdate")}function E(){L.ended&&h(0),R||(R=setInterval(S,a),L.loop&&C.dispatchEvent("play")),M=setInterval(y,C._util.TIMEUPDATE_MS),L.paused&&(L.paused=!1,L.loop||C.dispatchEvent("play"),C.dispatchEvent("playing"))}function b(){L.loop?(h(0),C.play()):(L.ended=!0,C.dispatchEvent("ended"))}function _(t){var e=L.currentTime=t;e!==q&&C.dispatchEvent("timeupdate"),q=L.currentTime}function w(t){if("http://player.vimeo.com"===t.origin){var n;try{n=JSON.parse(t.data)}catch(i){console.warn(i)}if(n.player_id==H)switch(n.event){case"ready":j=new r(I),j.addEventListener("loadProgress"),j.addEventListener("pause"),j.setVolume(0),j.play();break;case"loadProgress":var a=parseFloat(n.data.duration);a>0&&!D&&(D=!0,j.pause());break;case"pause":j.setVolume(1),e.removeEventListener("message",w,!1),e.addEventListener("message",T,!1),d()}}}function T(t){if("http://player.vimeo.com"===t.origin){var e;try{e=JSON.parse(t.data)}catch(n){console.warn(n)}if(e.player_id==H){switch(e.method){case"getCurrentTime":_(parseFloat(e.value));break;case"getDuration":p(parseFloat(e.value));break;case"getVolume":x(parseFloat(e.value))}switch(e.event){case"loadProgress":C.dispatchEvent("progress"),p(parseFloat(e.data.duration));break;case"playProgress":_(parseFloat(e.data.seconds));break;case"play":E();break;case"pause":m();break;case"finish":b();break;case"seek":_(parseFloat(e.data.seconds)),g(),L.paused&&C.pause()}}}}function S(){j.getCurrentTime()}function k(t){if(!C._canPlaySrc(t))return L.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},C.dispatchEvent("error"),void 0;L.src=t,D&&f(),D=!1;var r,i=C._util.parseUri(t),a=i.queryKey,o=["api=1","player_id="+H,"title=0","byline=0","portrait=0"];L.loop="1"===a.loop||L.loop,delete a.loop,L.autoplay="1"===a.autoplay||L.autoplay,delete a.autoplay,i="http://player.vimeo.com/video/"+/\d+$/.exec(i.path)+"?";for(r in a)a.hasOwnProperty(r)&&o.push(encodeURIComponent(r)+"="+encodeURIComponent(a[r]));i+=o.join("&"),I=n.createElement("iframe"),I.id=H,I.width=L.width,I.height=L.height,I.frameBorder=0,I.webkitAllowFullScreen=!0,I.mozAllowFullScreen=!0,I.allowFullScreen=!0,V.appendChild(I),I.src=i,e.addEventListener("message",w,!1)}function x(t){L.volume!==t&&(L.volume=t,C.dispatchEvent("volumechange"))}function P(t){return L.volume=t,D?(j.setVolume(t),C.dispatchEvent("volumechange"),void 0):(l(function(){P(t)}),void 0)}function O(){return L.muted>0?L.muted:L.volume}function A(t){return D?(t?(L.muted=L.volume,P(0)):(L.muted=0,P(L.muted)),void 0):(L.muted=t?1:0,l(function(){A(t)}),void 0)}function N(){return L.muted>0}if(!e.postMessage)throw"ERROR: HTMLVimeoVideoElement requires window.postMessage";var I,j,M,R,C=this,V="string"==typeof i?t.dom.find(i):i,L={src:o,networkState:C.NETWORK_EMPTY,readyState:C.HAVE_NOTHING,seeking:!1,autoplay:o,preload:o,controls:!1,loop:!1,poster:o,volume:1,muted:0,currentTime:0,duration:0/0,ended:!1,paused:!0,width:0|c.width?c.width:s,height:0|c.height?c.height:u,error:null},D=!1,H=t.guid(),$=[],q=0;C._eventNamespace=t.guid("HTMLVimeoVideoElement::"),C.parentNode=V,C._util.type="Vimeo",C.play=function(){return D?(j.play(),void 0):(l(function(){C.play()}),void 0)},C.pause=function(){return D?(j.pause(),void 0):(l(function(){C.pause()}),void 0)},Object.defineProperties(C,{src:{get:function(){return L.src},set:function(t){t&&t!==L.src&&k(t)}},autoplay:{get:function(){return L.autoplay},set:function(t){L.autoplay=C._util.isAttributeSet(t)}},loop:{get:function(){return L.loop},set:function(t){L.loop=C._util.isAttributeSet(t)}},width:{get:function(){return I.width},set:function(t){L.width=t}},height:{get:function(){return I.height},set:function(t){L.height=t}},currentTime:{get:function(){return L.currentTime},set:function(t){h(t)}},duration:{get:function(){return L.duration}},ended:{get:function(){return L.ended}},paused:{get:function(){return L.paused}},seeking:{get:function(){return L.seeking}},readyState:{get:function(){return L.readyState}},networkState:{get:function(){return L.networkState}},volume:{get:function(){return O()},set:function(t){if(0>t||t>1)throw"Volume value must be between 0.0 and 1.0";P(t)}},muted:{get:function(){return N()},set:function(t){A(C._util.isAttributeSet(t))}},error:{get:function(){return L.error}}})}var a=16,o="",s=300,u=200;i.prototype=new t._MediaElementProto,i.prototype.constructor=i,i.prototype._canPlaySrc=function(t){return/player.vimeo.com\/video\/\d+/.test(t)||/vimeo.com\/\d+/.test(t)?"probably":o},i.prototype.canPlayType=function(t){return"video/x-vimeo"===t?"probably":o},t.HTMLVimeoVideoElement=function(t,e){return new i(t,e)},t.HTMLVimeoVideoElement._canPlaySrc=i.prototype._canPlaySrc}(Popcorn,window,document),function(t,e,n){function r(){if(!f){var t=n.createElement("script"),r="file:"===e.location.protocol?"http:":"";t.src=r+"//www.youtube.com/iframe_api";var i=n.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i),f=!0}return p}function i(t){h.unshift(t)}function a(a){function p(t){W.unshift(t)}function f(){$=!0}function h(){G||(G=!0,L.play(),L.pause())}function v(){if(!q)return p(function(){v()}),H.duration;var t=H.duration,e=R.getDuration();return e?t!==e&&(H.duration=e,L.dispatchEvent("durationchange")):(h(),setTimeout(v,50)),e}function g(t){var e={name:"MediaError"};switch(t.data){case 2:e.message="Invalid video parameter.",e.code=MediaError.MEDIA_ERR_ABORTED;break;case 5:e.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",e.code=MediaError.MEDIA_ERR_DECODE;case 100:e.message="Video not found.",e.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:e.message="Video not usable.",e.code=MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:e.message="Unknown error.",e.code=5}H.error=e,L.dispatchEvent("error")}function m(t){switch(t.data){case-1:R.playVideo();break;case YT.PlayerState.ENDED:O();break;case YT.PlayerState.PLAYING:if(z){z=!1,H.autoplay||!H.paused?(H.paused=!1,p(function(){x()})):R.pauseVideo(),H.readyState=L.HAVE_METADATA,L.dispatchEvent("loadedmetadata"),C=setInterval(b,o),L.dispatchEvent("loadeddata"),H.readyState=L.HAVE_FUTURE_DATA,L.dispatchEvent("canplay"),q=!0;for(var e=W.length;e--;)W[e](),delete W[e];H.readyState=L.HAVE_ENOUGH_DATA,L.dispatchEvent("canplaythrough")}else x();break;case YT.PlayerState.PAUSED:P();break;case YT.PlayerState.BUFFERING:H.networkState=L.NETWORK_LOADING,L.dispatchEvent("waiting");break;case YT.PlayerState.CUED:}}function y(){$&&R&&(clearInterval(C),R.stopVideo(),R.clearVideo(),D.removeChild(M),M=null)
}function E(t){if(!L._canPlaySrc(t))return H.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED},L.dispatchEvent("error"),void 0;if(H.src=t,!r())return i(function(){E(t)}),void 0;$&&y(),M=n.createElement("div"),M.width=H.width,M.height=H.height,D.appendChild(M);var a=L._util.parseUri(t).queryKey;delete a.v,H.autoplay="1"===a.autoplay||H.autoplay,delete a.autoplay,H.loop="1"===a.loop||H.loop,delete a.loop,a.rel=a.rel||0,a.modestbranding=a.modestbranding||1,a.iv_load_policy=a.iv_load_policy||3,a.showinfo=a.showinfo||0;var o="file:"===e.location.protocol?"*":e.location.protocol+"//"+e.location.host;a.origin=a.origin||o,a.controls=a.controls||H.controls?2:0,H.controls=a.controls,a.wmode=a.wmode||"transparent",t=l.exec(t)[1],R=new YT.Player(M,{width:H.width,height:H.height,wmode:a.wmode,videoId:t,playerVars:a,events:{onReady:f,onError:g,onStateChange:m}}),H.networkState=L.NETWORK_LOADING,L.dispatchEvent("loadstart"),L.dispatchEvent("progress"),G=!1,v()}function b(){var t=H.currentTime=R.getCurrentTime();!H.seeking&&d(B-t)>o&&(S(),k()),Y>-1&&1>d(t-Y)&&(Y=-1,k()),B=H.currentTime}function _(){return q?(H.currentTime=R.getCurrentTime(),H.currentTime):0}function w(t){return q?(S(t),R.seekTo(t),void 0):(p(function(){w(t)}),void 0)}function T(){L.dispatchEvent("timeupdate")}function S(t){void 0!==t&&(Y=t),H.seeking=!0,L.dispatchEvent("seeking")}function k(){H.seeking=!1,L.dispatchEvent("timeupdate"),L.dispatchEvent("seeked"),L.dispatchEvent("canplay"),L.dispatchEvent("canplaythrough")}function x(){G=!0,H.ended&&w(0),V=setInterval(T,L._util.TIMEUPDATE_MS),F&&(F=!1,(H.loop&&!U||!H.loop)&&(U=!0,L.dispatchEvent("play")),L.dispatchEvent("playing"))}function P(){F||(F=!0,clearInterval(V),L.dispatchEvent("pause"))}function O(){H.loop?(w(0),L.play()):(H.ended=!0,L.dispatchEvent("ended"))}function A(t){return H.volume=t,q?(R.setVolume(100*H.volume),L.dispatchEvent("volumechange"),void 0):(p(function(){A(H.volume)}),void 0)}function N(){return H.volume}function I(t){return H.muted=t,q?(R[t?"mute":"unMute"](),L.dispatchEvent("volumechange"),void 0):(p(function(){I(H.muted)}),void 0)}function j(){return H.muted}if(!e.postMessage)throw"ERROR: HTMLYouTubeVideoElement requires window.postMessage";var M,R,C,V,L=this,D="string"==typeof a?n.querySelector(a):a,H={src:s,networkState:L.NETWORK_EMPTY,readyState:L.HAVE_NOTHING,seeking:!1,autoplay:s,preload:s,controls:!1,loop:!1,poster:s,volume:1,muted:!1,currentTime:0,duration:0/0,ended:!1,paused:!0,width:0|D.width?D.width:u,height:0|D.height?D.height:c,error:null},$=!1,q=!1,U=!1,F=!0,W=[],B=0,Y=-1,z=!0,G=!1;L._eventNamespace=t.guid("HTMLYouTubeVideoElement::"),L.parentNode=D,L._util.type="YouTube",L.play=function(){return H.paused=!1,q?(R.playVideo(),void 0):(p(function(){L.play()}),void 0)},L.pause=function(){return H.paused=!0,q?(R.pauseVideo(),void 0):(p(function(){L.pause()}),void 0)},Object.defineProperties(L,{src:{get:function(){return H.src},set:function(t){t&&t!==H.src&&E(t)}},autoplay:{get:function(){return H.autoplay},set:function(t){H.autoplay=L._util.isAttributeSet(t)}},loop:{get:function(){return H.loop},set:function(t){H.loop=L._util.isAttributeSet(t)}},width:{get:function(){return M.width},set:function(t){H.width=t}},height:{get:function(){return M.height},set:function(t){H.height=t}},currentTime:{get:function(){return _()},set:function(t){w(t)}},duration:{get:function(){return v()}},ended:{get:function(){return H.ended}},paused:{get:function(){return H.paused}},seeking:{get:function(){return H.seeking}},readyState:{get:function(){return H.readyState}},networkState:{get:function(){return H.networkState}},volume:{get:function(){var t=N();return t/100},set:function(t){if(0>t||t>1)throw"Volume value must be between 0.0 and 1.0";t=100*t,A(t)}},muted:{get:function(){return j()},set:function(t){I(L._util.isAttributeSet(t))}},error:{get:function(){return H.error}}})}var o=10,s="",u=300,c=200,l=/^.*(?:\/|v=)(.{11})/,d=Math.abs,p=!1,f=!1,h=[];e.YT&&(e.quarantineYT=e.YT,e.YT=null),e.onYouTubeIframeAPIReady=function(){p=!0;for(var t=h.length;t--;)h[t](),delete h[t]},a.prototype=new t._MediaElementProto,a.prototype.constructor=a,a.prototype._canPlaySrc=function(t){return/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu)/.test(t)?"probably":s},a.prototype.canPlayType=function(t){return"video/x-youtube"===t?"probably":s},t.HTMLYouTubeVideoElement=function(t){return new a(t)},t.HTMLYouTubeVideoElement._canPlaySrc=a.prototype._canPlaySrc}(Popcorn,window,document),define("popcorn/popcorn.wrappers",["popcorn/popcorn"],function(t){return function(){var e;return e||t.Popcorn}}(this)),function(t){var e=function(e,n){var r,i=0,a=0;t.forEach(n.classes,function(t,e){for(r=[],"parent"===t?r[0]=document.querySelectorAll("#"+n.target)[0].parentNode:r=document.querySelectorAll("#"+n.target+" "+t),i=0,a=r.length;a>i;i++)r[i].classList.toggle(e)})};t.compose("applyclass",{manifest:{about:{name:"Popcorn applyclass Effect",version:"0.1",author:"@scottdowne",website:"scottdowne.wordpress.com"},options:{}},_setup:function(t){t.classes={},t.applyclass=t.applyclass||"";for(var e=t.applyclass.replace(/\s/g,"").split(","),n=[],r=0,i=e.length;i>r;r++)n=e[r].split(":"),n[0]&&(t.classes[n[0]]=n[1]||"")},start:e,end:e})}(Popcorn),define("popcorn/popcorn.effects",["popcorn/popcorn"],function(t){return function(){var e;return e||t.Popcorn}}(this)),function(t){t.parser("parseJSON","JSON",function(e){var n={title:"",remote:"",data:[]},r=e;return t.forEach(r.data,function(t){n.data.push(t)}),n})}(Popcorn),function(t){t.parser("parseSBV",function(t){var e,n={title:"",remote:"",data:[]},r=[],i=0,a=0,o=function(t){var e,n=t.split(":"),r=n.length-1;try{e=60*parseInt(n[r-1],10)+parseFloat(n[r],10),2===r&&(e+=3600*parseInt(n[0],10))}catch(i){throw"Bad cue"}return e},s=function(t,e){var n={};return n[t]=e,n};for(e=t.text.split(/(?:\r\n|\r|\n)/gm),a=e.length;a>i;){var u={},c=[],l=e[i++].split(",");try{for(u.start=o(l[0]),u.end=o(l[1]);a>i&&e[i];)c.push(e[i++]);u.text=c.join("<br />"),r.push(s("subtitle",u))}catch(d){for(;a>i&&e[i];)i++}for(;a>i&&!e[i];)i++}return n.data=r,n})}(Popcorn),function(t){function e(t,e){var n={};return n[t]=e,n}function n(t){var e=t.split(":");try{var n=e[2].split(",");return 1===n.length&&(n=e[2].split(".")),3600*parseFloat(e[0],10)+60*parseFloat(e[1],10)+parseFloat(n[0],10)+parseFloat(n[1],10)/1e3}catch(r){return 0}}function r(t){for(var e=t.length-1;e>=0&&!t[e];)e--;return e}t.parser("parseSRT",function(t){var i,a,o,s,u,c={title:"",remote:"",data:[]},l=[],d=0,p=0;for(i=t.text.split(/(?:\r\n|\r|\n)/gm),s=r(i)+1,d=0;s>d;d++){for(u={},o=[],u.id=parseInt(i[d++],10),a=i[d++].split(/[\t ]*-->[\t ]*/),u.start=n(a[0]),p=a[1].indexOf(" "),-1!==p&&(a[1]=a[1].substr(0,p)),u.end=n(a[1]);s>d&&i[d];)o.push(i[d++]);u.text=o.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,""),u.text=u.text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),u.text=u.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"<$1$3$7>"),u.text=u.text.replace(/\\N/gi,"<br />"),l.push(e("subtitle",u))}return c.data=l,c})}(Popcorn),function(t){function e(t,e){var i,a=t.substr(10).split(","),o=/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,s=/\\N/gi;if(i={start:n(a[e.start]),end:n(a[e.end])},-1===i.start||-1===i.end)throw"Invalid time";return i.text=r(a,e.text).replace(o,"").replace(s,"<br />"),i}function n(t){var e=t.split(":");return 10!==t.length||3>e.length?-1:3600*parseInt(e[0],10)+60*parseInt(e[1],10)+parseFloat(e[2],10)}function r(t,e){for(var n=t.length,r=[],i=e;n>i;i++)r.push(t[i]);return r.join(",")}function i(t,e){var n={};return n[t]=e,n}function a(t){var e,n,r=t.substr(8).split(", "),i={};for(n=0,e=r.length;e>n;n++)"Start"===r[n]?i.start=n:"End"===r[n]?i.end=n:"Text"===r[n]&&(i.text=n);return i}t.parser("parseSSA",function(t){var n,r,o,s={title:"",remote:"",data:[]},u=/(?:\r\n|\r|\n)/gm,c=[],l=0;for(n=t.text.split(u),o=n.length;o>l&&"[Events]"!==n[l];)l++;for(r=a(n[++l]);o>++l&&n[l]&&"["!==n[l][0];)try{c.push(i("subtitle",e(n[l],r)))}catch(d){}return s.data=c,s})}(Popcorn),function(t){function e(t,a,o){for(var s,u=t.firstChild,c=n(t,o),l=[];u;)1===u.nodeType&&("p"===u.nodeName?l.push(r(u,a,c)):"div"===u.nodeName&&(s=i(u.getAttribute("begin")),0>s&&(s=a),l.push.apply(l,e(u,s,c)))),u=u.nextSibling;return l}function n(t,e){var n=t.getAttribute("region");return null!==n?n:e||""}function r(t,e,r){var a={};return a.text=(t.textContent||t.text).replace(s,"").replace(u,"<br />"),a.id=t.getAttribute("xml:id")||t.getAttribute("id"),a.start=i(t.getAttribute("begin"),e),a.end=i(t.getAttribute("end"),e),a.target=n(t,r),0>a.end&&(a.end=i(t.getAttribute("duration"),0),a.end>=0?a.end+=a.start:a.end=Number.MAX_VALUE),{subtitle:a}}function i(e,n){var r;if(!e)return-1;try{return t.util.toSeconds(e)}catch(i){return r=a(e),parseFloat(e.substring(0,r))*o(e.substring(r))+(n||0)}}function a(t){for(var e=t.length-1;e>=0&&"9">=t[e]&&t[e]>="0";)e--;return e}function o(t){return{h:3600,m:60,s:1,ms:.001}[t]||-1}var s=/^[\s]+|[\s]+$/gm,u=/(?:\r\n|\r|\n)/gm;t.parser("parseTTML",function(t){var n,r={title:"",remote:"",data:[]};if(!t.xml||!t.xml.documentElement)return r;if(n=t.xml.documentElement.firstChild,!n)return r;for(;"body"!==n.nodeName;)n=n.nextSibling;return n&&(r.data=e(n,0)),r})}(Popcorn),function(t){t.parser("parseTTXT",function(t){for(var e={title:"",remote:"",data:[]},n=function(t){var e=t.split(":"),n=0;try{return 60*60*parseFloat(e[0],10)+60*parseFloat(e[1],10)+parseFloat(e[2],10)}catch(r){n=0}return n},r=function(t,e){var n={};return n[t]=e,n},i=t.xml.lastChild.lastChild,a=Number.MAX_VALUE,o=[];i;){if(1===i.nodeType&&"TextSample"===i.nodeName){var s={};s.start=n(i.getAttribute("sampleTime")),s.text=i.getAttribute("text"),s.text&&(s.end=a-.001,o.push(r("subtitle",s))),a=s.start}i=i.previousSibling}return e.data=o.reverse(),e})}(Popcorn),function(t){function e(t){var e,n=t.split(":"),r=t.length;if(12!==r&&9!==r)throw"Bad cue";r=n.length-1;try{e=60*parseInt(n[r-1],10)+parseFloat(n[r],10),2===r&&(e+=3600*parseInt(n[0],10))}catch(i){throw"Bad cue"}return e}function n(t,e){var n={};return n[t]=e,n}function r(t){var n,r={},i=/-->/,a=/[\t ]+/;if(!t||-1===t.indexOf("-->"))throw"Bad cue";if(n=t.replace(i," --> ").split(a),2>n.length)throw"Bad cue";return r.id=t,r.start=e(n[0]),r.end=e(n[2]),r}function i(t,e,n){for(;e>n&&!t[n];)n++;return n}function a(t,e,n){for(;e>n&&t[n];)n++;return n}t.parser("parseVTT",function(t){var e,o,s,u={title:"",remote:"",data:[]},c=[],l=0,d=0,p=/(?:\r\n|\r|\n)/gm;if(e=t.text.split(p),d=e.length,0===d||"WEBVTT"!==e[0])return u;for(l++;d>l;){o=[];try{for(l=i(e,d,l),s=r(e[l++]);d>l&&e[l];)o.push(e[l++]);s.text=o.join("<br />"),c.push(n("subtitle",s))}catch(f){l=a(e,d,l)}}return u.data=c,u})}(Popcorn),function(t){t.parser("parseXML","XML",function(e){for(var n={title:"",remote:"",data:[]},r={},i=function(t){var e=t.split(":");return 1===e.length?parseFloat(e[0],10):2===e.length?parseFloat(e[0],10)+parseFloat(e[1]/12,10):3===e.length?parseInt(60*e[0],10)+parseFloat(e[1],10)+parseFloat(e[2]/12,10):4===e.length?parseInt(3600*e[0],10)+parseInt(60*e[1],10)+parseFloat(e[2],10)+parseFloat(e[3]/12,10):void 0},a=function(t){for(var e={},n=0,a=t.length;a>n;n++){var o=t.item(n).nodeName,s=t.item(n).nodeValue,u=r[s];if("in"===o)e.start=i(s);else if("out"===o)e.end=i(s);else if("resourceid"===o)for(var c in u)u.hasOwnProperty(c)&&(e[c]||"id"===c||(e[c]=u[c]));else e[o]=s}return e},o=function(t,e){var n={};return n[t]=e,n},s=function(e,i,u){var c={};t.extend(c,i,a(e.attributes),{text:e.textContent||e.text});var l=e.childNodes;if(1>l.length||1===l.length&&3===l[0].nodeType)u?r[c.id]=c:n.data.push(o(e.nodeName,c));else for(var d=0;l.length>d;d++)1===l[d].nodeType&&s(l[d],c,u)},u=e.documentElement.childNodes,c=0,l=u.length;l>c;c++)1===u[c].nodeType&&("manifest"===u[c].nodeName?s(u[c],{},!0):s(u[c],{},!1));return n})}(Popcorn),define("popcorn/popcorn.parsers",["popcorn/popcorn","popcorn/popcorn.modules"],function(t){return function(){var e;return e||t.Popcorn}}(this)),function(t,e){e.player("soundcloud",{_canPlayType:function(t,n){return"string"==typeof n&&e.HTMLSoundCloudAudioElement._canPlaySrc(n)&&"audio"!==t.toLowerCase()}}),e.soundcloud=function(t,n,r){"undefined"!=typeof console&&console.warn&&console.warn("Deprecated player 'soundcloud'. Please use Popcorn.HTMLSoundCloudAudioElement directly.");var i=e.HTMLSoundCloudAudioElement(t),a=e(i,r);return setTimeout(function(){i.src=n},0),a}}(window,Popcorn),function(t,e){e.player("vimeo",{_canPlayType:function(t,n){return"string"==typeof n&&e.HTMLVimeoVideoElement._canPlaySrc(n)}}),e.vimeo=function(t,n,r){"undefined"!=typeof console&&console.warn&&console.warn("Deprecated player 'vimeo'. Please use Popcorn.HTMLVimeoVideoElement directly.");var i=e.HTMLVimeoVideoElement(t,r),a=e(i,r);return setTimeout(function(){i.src=n},0),a}}(window,Popcorn),function(t,e){var n=RegExp("(?:http://www\\.|http://|www\\.|\\.|^)(?:youtu).*(?:/|v=)(.{11})");t.onYouTubePlayerAPIReady=function(){onYouTubePlayerAPIReady.ready=!0;for(var t=0;onYouTubePlayerAPIReady.waiting.length>t;t++)onYouTubePlayerAPIReady.waiting[t]()},t.YT&&(t.quarantineYT=t.YT,t.YT=null),onYouTubePlayerAPIReady.waiting=[];var r=!1;e.player("youtube",{_canPlayType:function(t,e){return"string"==typeof e&&n.test(e)&&"video"!==t.toLowerCase()},_setup:function(i){t.YT||r||(r=!0,e.getScript("//youtube.com/player_api"));var a=this,o=!1,s=document.createElement("div"),u=0,c=!0,l=!1,d=0,p=!1,f=100,h=e.player.playerQueue(),v=function(){e.player.defineProperty(a,"currentTime",{set:function(t){i.destroyed||(t=Number(t),isNaN(t)||(u=t,l=!0,a.dispatchEvent("seeking"),i.youtubeObject.seekTo(t)))},get:function(){return u}}),e.player.defineProperty(a,"paused",{get:function(){return c}}),e.player.defineProperty(a,"muted",{set:function(t){return i.destroyed?t:(i.youtubeObject.isMuted()!==t&&(t?i.youtubeObject.mute():i.youtubeObject.unMute(),p=i.youtubeObject.isMuted(),a.dispatchEvent("volumechange")),i.youtubeObject.isMuted())},get:function(){return i.destroyed?0:i.youtubeObject.isMuted()}}),e.player.defineProperty(a,"volume",{set:function(t){return i.destroyed?t:(i.youtubeObject.getVolume()/100!==t&&(i.youtubeObject.setVolume(100*t),f=i.youtubeObject.getVolume(),a.dispatchEvent("volumechange")),i.youtubeObject.getVolume()/100)},get:function(){return i.destroyed?0:i.youtubeObject.getVolume()/100}}),a.play=function(){i.destroyed||(c=!1,h.add(function(){1!==i.youtubeObject.getPlayerState()?(l=!1,i.youtubeObject.playVideo()):h.next()}))},a.pause=function(){i.destroyed||(c=!0,h.add(function(){2!==i.youtubeObject.getPlayerState()?i.youtubeObject.pauseVideo():h.next()}))}};s.id=a.id+e.guid(),i._container=s,a.appendChild(s);var g=function(){var t,e,r,g,m,y=!0,E=.1,b=function(){if(!i.destroyed){var t=i.youtubeObject.getCurrentTime();l?u>=t-E&&t+E>=u?(l=!1,E=.1,a.dispatchEvent("seeked")):(E*=2,i.youtubeObject.seekTo(u)):u=t,a.dispatchEvent("timeupdate"),setTimeout(b,200)}},_=function(t){var e=i.youtubeObject.getDuration();isNaN(e)||0===e?setTimeout(function(){_(2*t)},1e3*t):(a.duration=e,a.dispatchEvent("durationchange"),a.dispatchEvent("loadedmetadata"),a.dispatchEvent("loadeddata"),a.readyState=4,b(),a.dispatchEvent("canplay"),a.dispatchEvent("canplaythrough"))};i.controls=0===+i.controls||1===+i.controls?i.controls:0,i.annotations=1===+i.annotations||3===+i.annotations?i.annotations:1,t=n.exec(a.src)[1],e=(a.src.split("?")[1]||"").replace(/v=.{11}/,""),e=e.replace(/&t=(?:(\d+)m)?(?:(\d+)s)?/,function(t,e,n){return e=0|e,n=0|n,d=+n+60*e,""}),e=e.replace(/&start=(\d+)?/,function(t,e){return e=0|e,d=e,""}),o=/autoplay=1/.test(e),r=e.split(/[\&\?]/g),g={wmode:"transparent"};for(var w=0;r.length>w;w++)m=r[w].split("="),g[m[0]]=m[1];g.rel=g.rel||0,g.modestbranding=g.modestbranding||1,g.iv_load_policy=g.iv_load_policy||3,g.showinfo=g.showinfo||0,g.controls=g.controls||i.controls||0,i.youtubeObject=new YT.Player(s.id,{height:"100%",width:"100%",wmode:"transparent",playerVars:g,videoId:t,events:{onReady:function(){f=a.volume,p=a.muted,T(),c=a.paused,v(),i.youtubeObject.playVideo(),a.currentTime=d,a.dispatchEvent("loadstart")},onStateChange:function(t){i.destroyed||-1===t.data||(2===t.data?(c=!0,a.dispatchEvent("pause"),h.next()):1!==t.data||y?0===t.data?a.dispatchEvent("ended"):1===t.data&&y&&(y=!1,(o||!a.paused)&&(c=!1),c&&i.youtubeObject.pauseVideo(),_(.025)):(c=!1,a.dispatchEvent("play"),a.dispatchEvent("playing"),h.next()))},onError:function(t){-1!==[2,100,101,150].indexOf(t.data)&&(a.error={customCode:t.data},a.dispatchEvent("error"))}}});var T=function(){i.destroyed||(p!==i.youtubeObject.isMuted()&&(p=i.youtubeObject.isMuted(),a.dispatchEvent("volumechange")),f!==i.youtubeObject.getVolume()&&(f=i.youtubeObject.getVolume(),a.dispatchEvent("volumechange")),setTimeout(T,250))}};onYouTubePlayerAPIReady.ready?g():onYouTubePlayerAPIReady.waiting.push(g)},_teardown:function(t){t.destroyed=!0;var e=t.youtubeObject;e&&(e.stopVideo(),e.clearVideo&&e.clearVideo()),this.removeChild(document.getElementById(t._container.id))}})}(window,Popcorn),define("popcorn/popcorn.players",["popcorn/popcorn"],function(t){return function(){var e;return e||t.Popcorn}}(this)),define("popcorn-require",["popcorn/popcorn","popcorn/popcorn.modules","popcorn/popcorn.wrappers","popcorn/popcorn.effects","popcorn/popcorn.parsers","popcorn/popcorn.players"],function(t){return t}),define("views/video-item",["underscore","backbone","popcorn-require"],function(t,e,n){return e.View.extend({className:"media-item js-hidden",id:function(){return"video-"+this.model.cid},initialize:function(t){var e=this;if(this.parent=t.parent,!this.parent)throw Error("Requires a Parent view");if(!this.model)throw Error("Requires a model");this.dfd=$.Deferred(),this.render(),this.pop=n.smart("#"+this.id(),this.model.get("url"),{controls:!0,width:940,height:480}),this.listeners(),(0===this.model.collection.where({active:!0}).length||this.model.get("active"))&&(this.model.set("active",!0),setTimeout(function(){e.model.trigger("activate",!0)},0))},listeners:function(){var n=this;this.listenTo(this.model,"activate",this.activate),this.pop.on("canplay",t.once(this.ready).bind(this)),t.each(["playing","pause"],function(t){n.pop.on(t,function(){n.model.get("active")&&e.trigger(t,n.model)})}),this.pop.on("pause",function(){e.trigger("pause",this.model)},this);var r=0;this.pop.on("timeupdate",function(){var t=n.pop.currentTime();t!==r&&(n.parent.trigger("timeupdate",t),r=t)})},ready:function(){var t=this;t.parent.active!==t.model&&t.$el.addClass("js-hidden"),t.$el.addClass("js-loaded"),t.pop.cue(t.pop.duration()-1,function(){setTimeout(function(){t.model.collection.next(t.model)},1e3)}),t.dfd.resolve()},activate:function(t){var e=this;this.model.collection.each(function(t){t.video&&t!==e&&t.video.hide()}),t&&this.play(),this.$el.addClass("js-active").removeClass("js-hidden"),this.parent.active=this},render:function(){this.$el.addClass(this.model.get("type")),this.parent.$el.append(this.el)},hide:function(){this.pop.pause(),this.$el.addClass("js-hidden").removeClass("js-active")},play:function(){var t=this;this.dfd.done(function(){t.$el.removeClass("js-hidden"),setTimeout(function(){"0"!==localStorage.currentTime?(t.pop.play(localStorage.currentTime),localStorage.currentTime=0):t.pop.play()},100)})},remove:function(){this.pop.pause(),this.pop.destroy(),e.View.prototype.remove.call(this)}})}),define("views/video-controls",["underscore","backbone"],function(t,e){return e.View.extend({el:function(){return this.options.parent.$(".controls")[0]},initialize:function(t){if(this.parent=t.parent,!this.parent)throw Error("Requires a Parent view")},events:{"click [data-action]":"controls"},controls:function(t){t.preventDefault();var e=$(t.currentTarget).data("action"),n=this.parent.active;n&&n.pop[e]&&n.pop[e](),"next"===e&&this.parent.collection.next()}})}),define("views/video-scrubber",["underscore","backbone"],function(t,e){return e.View.extend({el:$("#scrubber"),initialize:function(){if(this.parent=this.options.parent,!this.parent)throw Error("Requires parent view");this.listenTo(this.parent,"timeupdate",this.update),this.listenTo(e,"playing",this.setHandleWidth),this.handle=this.$(".handle"),this.scrubberWidth=this.$el.width()},events:{"mousedown .handle":"drag",click:"setPosition","click .handle":function(){return!1}},update:function(t){var e=t*this.scrubberWidth/this.duration;this.handle.css("left",~~(e-this.handleWidth))},setHandleWidth:function(t){this.duration=t.video.pop.duration(),this.handleWidth=this.duration/100,this.handle.css("width",~~this.handleWidth+"%");var e=t.metadata?t.metadata.get("title"):t.get("url");this.$("marquee").text(e)},setPosition:function(t){if(t.preventDefault(),t.stopPropagation(),!this.parent.active)return!1;var e=t.pageX-this.$el.offset().left-this.handleWidth;this.scrub(e*this.duration/this.scrubberWidth)},drag:function(t){function e(t){var e=t.pageX-a-r.handleWidth;i.css("left",e),r.scrub(e*r.duration/r.scrubberWidth)}function n(){$(this).off(".scrubber")}if(t.preventDefault(),t.stopPropagation(),!this.parent.active)return!1;var r=this,i=this.handle,a=this.$el.offset().left;$(window).on("mousemove.scrubber",e).one("mouseup.scrubber",n)},scrub:function(t){this.parent.active.pop.currentTime(t)}})}),define("views/video",["underscore","backbone","views/video-item","views/video-controls","views/video-scrubber"],function(t,e,n,r,i){return e.View.extend({el:$("#video"),initialize:function(){if(!this.collection)throw Error("Requires a collection");this.controls=new r({parent:this}),this.scrubber=new i({parent:this}),this.listenTo(this.collection,"add",this.add),this.listenTo(this.collection,"activated",this.update)},add:function(t){t.video=new n({model:t,parent:this})},update:function(t){this.$el.removeClass().addClass(t.get("type"))}})}),function(t){var e=decodeURIComponent;t.deparam=function(n,r){var i={},a={"true":!0,"false":!1,"null":null};return t.each(n.replace(/\+/g," ").split("&"),function(n,o){var s,u=o.split("="),c=e(u[0]),l=i,d=0,p=c.split("]["),f=p.length-1;if(/\[/.test(p[0])&&/\]$/.test(p[f])?(p[f]=p[f].replace(/\]$/,""),p=p.shift().split("[").concat(p),f=p.length-1):f=0,2===u.length)if(s=e(u[1]),r&&(s=s&&!isNaN(s)?+s:"undefined"===s?void 0:void 0!==a[s]?a[s]:s),f)for(;f>=d;d++)c=""===p[d]?l.length:p[d],l=l[c]=f>d?l[c]||(p[d+1]&&isNaN(p[d+1])?{}:[]):s;else t.isArray(i[c])?i[c].push(s):i[c]=void 0!==i[c]?[i[c],s]:s;else c&&(i[c]=r?void 0:"")}),i}}(jQuery),define("plugins/jquery.deparam",function(){}),define("views/form",["underscore","backbone","plugins/jquery.deparam"],function(t,e){return e.View.extend({initialize:function(){if(!this.collection)throw Error("Requires a collection")},el:$("#add-video"),events:{"submit form":"addVideo"},addVideo:function(t){t.preventDefault();var e=$.deparam(this.$("form").serialize());this.collection.add(e,{parse:!0})&&this.$("textarea").val("")}})}),define("models/youtube",["underscore","backbone"],function(t,e){var n="https://gdata.youtube.com/feeds/api/videos/";return e.Model.extend({initialize:function(t,e){if(this.parent=e.parent,!this.parent)throw Error("Requires a parent model");this.parseUrl(),this.fetch({dataType:"jsonp"})},parseUrl:function(){var t=this.parent.get("url"),e=$.deparam(t.split("?")[1]);e.v&&this.set("id",e.v)},url:function(){return n+this.get("id")+"?v=2&alt=json"},parse:function(t){var e={title:t.entry.title.$t};return t.entry.media$group.media$thumbnail&&(e.artwork_url=t.entry.media$group.media$thumbnail[0].url),e}})}),define("models/soundcloud",["underscore","backbone"],function(t,e){var n="?client_id=ac5ef8ec404bffaca78104a838599d91";return e.Model.extend({initialize:function(t,e){if(this.parent=e.parent,!this.parent)throw Error("Requires a parent model");this.fetch({dataType:"jsonp"})},url:function(){return this.parent.get("url")+".json"+n}})}),define("models/vimeo",["underscore","backbone"],function(t,e){var n="http://vimeo.com/api/v2/video/";return e.Model.extend({initialize:function(t,e){if(this.parent=e.parent,!this.parent)throw Error("Requires a parent model");this.parseUrl(),this.fetch({dataType:"jsonp"})},parseUrl:function(){var t=/vimeo.com\/(\S+)/.exec(this.parent.get("url"));t[1]&&this.set("id",t[1])},url:function(){return n+this.get("id")+".json"},parse:function(t){var e=t[0];return e.artwork_url=e.thumbnail_medium,e}})}),define("models/media",["underscore","backbone","popcorn-require","models/youtube","models/soundcloud","models/vimeo"],function(t,e,n,r,i,a){var o={youtube:/youtube/,vimeo:/vimeo/,soundcloud:/soundcloud/},s={soundcloud:/^\[soundcloud\ url\="([^"]+)/,iframe:/^<iframe/,youtube:/youtube.com\/embed\/([^"]+)/};return e.Model.extend({initialize:function(){var t=this;this.setType(),this.setMetadata(),this.on("activate",function(){this.set("active",!0),this.collection.each(function(e){e.cid!==t.cid&&e.set("active",!1)}),this.collection.trigger("activated",this)},this)},destroy:function(){this.view.remove(),this.video&&this.video.remove(),this.get("active")&&this.collection.next(this),1===this.collection.length&&e.trigger("pause"),this.collection.remove(this)},setType:function(){t.find(o,function(t,e){return t.test(this.get("url"))?(this.set("type",e),!0):void 0},this)},setMetadata:function(){var t=this.get("type");"youtube"===t&&(this.metadata=new r(null,{parent:this})),"soundcloud"===t&&(this.metadata=new i(null,{parent:this})),"vimeo"===t&&(this.metadata=new a(null,{parent:this})),this.metadata&&this.metadata.on("change",function(){this.trigger("change")},this)},parse:function(t){var e;return(e=s.soundcloud.exec(t.url))&&(t.url=e[1]),s.iframe.test(t.url)&&(e=t.url.match(s.youtube))&&(e="http://youtube.com/?v="+e[1],t.url=e),t}})}),define("collections/media",["underscore","backbone","models/media"],function(t,e,n){return e.Collection.extend({model:n,initialize:function(){this.on("add",function(t){t.get("order")||t.set("order",this.indexOf(t))},this),this.on("usersort",this.userSort)},userSort:function(){this.each(function(t){var e=t.view.$el.index()-1;t.set({order:e},{silent:!0})}),this.sort()},comparator:function(t){return t.get("order")},next:function(t){var e=t?t:this.where({active:!0})[0];if(!e)return!1;var n=this.indexOf(e),r=n+1===this.length?0:n+1;this.at(r).trigger("activate",!0)}})}),require(["underscore","backbone","views/playlist","views/video","views/form","collections/media"],function(t,e,n,r,i,a){var o=e.View.extend({el:$("body"),initialize:function(){this.collection=new a;var t={collection:this.collection};this.video=new r(t),this.form=new i(t),this.playlist=new n(t),this.listenTo(e,"playing",this.playing),this.listenTo(e,"pause",this.pause)},playing:function(){this.$el.addClass("playing")},pause:function(){this.$el.removeClass("playing")}});$(function(){window.Playr=new o,localStorage.playlist&&window.Playr.collection.add(JSON.parse(localStorage.playlist)),$(window).bind("beforeunload",function(){localStorage.playlist=JSON.stringify(window.Playr.collection.toJSON()),localStorage.currentTime=window.Playr.video.active?window.Playr.video.active.pop.currentTime():0})})}),define("main",function(){}),require.config({deps:["main"],paths:{vendor:"../assets/js/vendor",plugins:"../assets/js/plugins",popcorn:"../assets/js/vendor/popcorn",backbone:"../assets/js/vendor/backbone",underscore:"../assets/js/vendor/lodash.min",tpl:"../assets/js/plugins/tpl",text:"../assets/js/plugins/text",json:"../assets/js/plugins/json"},shim:{backbone:{exports:"Backbone",deps:["underscore"]},"plugins/jquery.deparam":[],"popcorn/popcorn":{exports:"Popcorn"},"popcorn/popcorn.modules":{exports:"Popcorn",deps:["popcorn/popcorn"]},"popcorn/popcorn.parsers":{exports:"Popcorn",deps:["popcorn/popcorn","popcorn/popcorn.modules"]},"popcorn/popcorn.wrappers":{exports:"Popcorn",deps:["popcorn/popcorn"]},"popcorn/popcorn.effects":{exports:"Popcorn",deps:["popcorn/popcorn"]},"popcorn/popcorn.players":{exports:"Popcorn",deps:["popcorn/popcorn"]}}}),define("config",function(){});