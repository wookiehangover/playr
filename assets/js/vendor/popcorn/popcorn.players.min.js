(function(k,c){c.player("soundcloud",{_canPlayType:function(f,h){return typeof h==="string"&&c.HTMLSoundCloudAudioElement._canPlaySrc(h)&&f.toLowerCase()!=="audio"}});c.soundcloud=function(f,h,a){typeof console!=="undefined"&&console.warn&&console.warn("Deprecated player 'soundcloud'. Please use Popcorn.HTMLSoundCloudAudioElement directly.");var b=c.HTMLSoundCloudAudioElement(f);f=c(b,a);setTimeout(function(){b.src=h},0);return f}})(window,Popcorn);(function(k,c){c.player("vimeo",{_canPlayType:function(f,h){return typeof h==="string"&&c.HTMLVimeoVideoElement._canPlaySrc(h)}});c.vimeo=function(f,h,a){typeof console!=="undefined"&&console.warn&&console.warn("Deprecated player 'vimeo'. Please use Popcorn.HTMLVimeoVideoElement directly.");var b=c.HTMLVimeoVideoElement(f);f=c(b,a);setTimeout(function(){b.src=h},0);return f}})(window,Popcorn);(function(k,c){var f=/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(?:youtu).*(?:\/|v=)(.{11})/;k.onYouTubePlayerAPIReady=function(){onYouTubePlayerAPIReady.ready=true;for(var a=0;a<onYouTubePlayerAPIReady.waiting.length;a++)onYouTubePlayerAPIReady.waiting[a]()};if(k.YT){k.quarantineYT=k.YT;k.YT=null}onYouTubePlayerAPIReady.waiting=[];var h=false;c.player("youtube",{_canPlayType:function(a,b){return typeof b==="string"&&f.test(b)&&a.toLowerCase()!=="video"},_setup:function(a){if(!k.YT&&!h){h=true;c.getScript("//youtube.com/player_api")}var b=
this,x=false,o=document.createElement("div"),m=0,l=true,p=false,t=0,q=false,r=100,n=c.player.playerQueue(),D=function(){c.player.defineProperty(b,"currentTime",{set:function(e){if(!a.destroyed){e=Number(e);if(!isNaN(e)){m=e;p=true;b.dispatchEvent("seeking");a.youtubeObject.seekTo(e)}}},get:function(){return m}});c.player.defineProperty(b,"paused",{get:function(){return l}});c.player.defineProperty(b,"muted",{set:function(e){if(a.destroyed)return e;if(a.youtubeObject.isMuted()!==e){e?a.youtubeObject.mute():
a.youtubeObject.unMute();q=a.youtubeObject.isMuted();b.dispatchEvent("volumechange")}return a.youtubeObject.isMuted()},get:function(){if(a.destroyed)return 0;return a.youtubeObject.isMuted()}});c.player.defineProperty(b,"volume",{set:function(e){if(a.destroyed)return e;if(a.youtubeObject.getVolume()/100!==e){a.youtubeObject.setVolume(e*100);r=a.youtubeObject.getVolume();b.dispatchEvent("volumechange")}return a.youtubeObject.getVolume()/100},get:function(){if(a.destroyed)return 0;return a.youtubeObject.getVolume()/
100}});b.play=function(){if(!a.destroyed){l=false;n.add(function(){if(a.youtubeObject.getPlayerState()!==1){p=false;a.youtubeObject.playVideo()}else n.next()})}};b.pause=function(){if(!a.destroyed){l=true;n.add(function(){a.youtubeObject.getPlayerState()!==2?a.youtubeObject.pauseVideo():n.next()})}}};o.id=b.id+c.guid();a._container=o;b.appendChild(o);var C=function(){var e,i,g,u,v=true,s=0.1,y=function(){if(!a.destroyed){var d=a.youtubeObject.getCurrentTime();if(p)if(m>=d-s&&m<=d+s){p=false;s=0.1;
b.dispatchEvent("seeked")}else{s*=2;a.youtubeObject.seekTo(m)}else m=d;b.dispatchEvent("timeupdate");setTimeout(y,200)}},z=function(d){var j=a.youtubeObject.getDuration();if(isNaN(j)||j===0)setTimeout(function(){z(d*2)},d*1E3);else{b.duration=j;b.dispatchEvent("durationchange");b.dispatchEvent("loadedmetadata");b.dispatchEvent("loadeddata");b.readyState=4;y();b.dispatchEvent("canplay");b.dispatchEvent("canplaythrough")}};a.controls=+a.controls===0||+a.controls===1?a.controls:0;a.annotations=+a.annotations===
1||+a.annotations===3?a.annotations:1;e=f.exec(b.src)[1];i=(b.src.split("?")[1]||"").replace(/v=.{11}/,"");i=i.replace(/&t=(?:(\d+)m)?(?:(\d+)s)?/,function(d,j,A){j|=0;A|=0;t=+A+j*60;return""});i=i.replace(/&start=(\d+)?/,function(d,j){j|=0;t=j;return""});x=/autoplay=1/.test(i);i=i.split(/[\&\?]/g);g={wmode:"transparent"};for(var w=0;w<i.length;w++){u=i[w].split("=");g[u[0]]=u[1]}g.rel=g.rel||0;g.modestbranding=g.modestbranding||1;g.iv_load_policy=g.iv_load_policy||3;g.showinfo=g.showinfo||0;g.controls=
g.controls||a.controls||0;a.youtubeObject=new YT.Player(o.id,{height:"100%",width:"100%",wmode:"transparent",playerVars:g,videoId:e,events:{onReady:function(){r=b.volume;q=b.muted;B();l=b.paused;D();a.youtubeObject.playVideo();b.currentTime=t;b.dispatchEvent("loadstart")},onStateChange:function(d){if(!(a.destroyed||d.data===-1))if(d.data===2){l=true;b.dispatchEvent("pause");n.next()}else if(d.data===1&&!v){l=false;b.dispatchEvent("play");b.dispatchEvent("playing");n.next()}else if(d.data===0)b.dispatchEvent("ended");
else if(d.data===1&&v){v=false;if(x||!b.paused)l=false;l&&a.youtubeObject.pauseVideo();z(0.025)}},onError:function(d){if([2,100,101,150].indexOf(d.data)!==-1){b.error={customCode:d.data};b.dispatchEvent("error")}}}});var B=function(){if(!a.destroyed){if(q!==a.youtubeObject.isMuted()){q=a.youtubeObject.isMuted();b.dispatchEvent("volumechange")}if(r!==a.youtubeObject.getVolume()){r=a.youtubeObject.getVolume();b.dispatchEvent("volumechange")}setTimeout(B,250)}}};onYouTubePlayerAPIReady.ready?C():onYouTubePlayerAPIReady.waiting.push(C)},
_teardown:function(a){a.destroyed=true;var b=a.youtubeObject;if(b){b.stopVideo();b.clearVideo&&b.clearVideo()}this.removeChild(document.getElementById(a._container.id))}})})(window,Popcorn);
